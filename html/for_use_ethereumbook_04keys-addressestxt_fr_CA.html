<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Cryptographie</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="keys_addresses">Cryptographie</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;une des technologies fondamentales d&#8217;Ethereum est la <em>cryptographie</em>, qui est une branche des mathématiques largement utilisées en sécurité informatique. La cryptographie signifie "écriture secrète" en grec, mais l&#8217;étude de la cryptographie englobe plus que la simple écriture secrète, appelée <em>cryptage</em>. La cryptographie peut, par exemple, également être utilisée pour prouver la connaissance d&#8217;un secret sans le révéler (par exemple, avec une signature numérique), ou pour prouver l&#8217;authenticité des données (par exemple, avec des empreintes digitales, également appelées "hachages"). Ces types de preuves cryptographiques sont des outils mathématiques essentiels au fonctionnement de la plate-forme Ethereum (et, en fait, de tous les systèmes de chaîne de blocs), et sont également largement utilisés dans les applications Ethereum. </p>
</div>
<div class="paragraph">
<p>Notez qu&#8217;au moment de la publication, aucune partie du protocole Ethereum n&#8217;implique de cryptage ; c&#8217;est-à-dire que toutes les communications avec la plateforme Ethereum et entre les nœuds (y compris les données de transaction) sont non cryptées et peuvent (nécessairement) être lues par n&#8217;importe qui. C&#8217;est ainsi que tout le monde peut vérifier l&#8217;exactitude des mises à jour d&#8217;état et qu&#8217;un consensus peut être atteint. À l&#8217;avenir, des outils cryptographiques avancés, tels que les preuves à zéro connaissance et le cryptage homomorphe, seront disponibles, ce qui permettra d&#8217;enregistrer certains calculs cryptés sur la chaîne de blocs tout en permettant le consensus ; cependant, bien que des dispositions aient été prises à leur intention, elles n&#8217;ont pas encore été déployées.</p>
</div>
<div class="paragraph">
<p>Dans ce chapitre, nous présenterons une partie de la cryptographie utilisée dans Ethereum : à savoir la cryptographie à clé publique (PKC), qui est utilisée pour contrôler la propriété des fonds, sous la forme de clés privées et d&#8217;adresses.</p>
</div>
<div class="sect2">
<h3 id="keys_addresses_intro">Clés et adresses</h3>
<div class="paragraph">
<p>Comme nous l&#8217;avons vu précédemment dans le livre, Ethereum a deux types de comptes différents : les <em>comptes détenus par des tiers ou en externe</em> (Externally Owned Accounts ou EOA) et les <em>contrats</em>. La propriété de l&#8217;ether par les EOAs est établie par des <em>clés privées</em> numériques, des <em>adresses Ethereum</em> et des <em>signatures numériques</em>. Les clés privées sont au cœur de toutes les interactions des utilisateurs avec Ethereum. En fait, les adresses de compte sont directement dérivées des clés privées : une clé privée détermine de manière unique une seule adresse Ethereum, également appelée <em>compte</em>.</p>
</div>
<div class="paragraph">
<p>Les clés privées ne sont en aucun cas utilisées directement dans le système Ethereum ; ils ne sont jamais transmis ou stockés sur Ethereum. C&#8217;est-à-dire que les clés privées doivent rester privées et ne jamais apparaître dans les messages transmis au réseau, ni être stockées en chaîne ; seules les adresses de compte et les signatures numériques sont transmises et stockées sur le système Ethereum. Pour plus d&#8217;informations sur la manière de conserver les clés privées en toute sécurité, consultez <a href="#control_responsibility">[control_responsibility]</a> et <a href="#wallets_chapter">[wallets_chapter]</a>.</p>
</div>
<div class="paragraph">
<p>L&#8217;accès et le contrôle des fonds sont réalisés avec des signatures numériques, qui sont également créées à l&#8217;aide de la clé privée. Les transactions Ethereum nécessitent une signature numérique valide pour être incluses dans la chaîne de blocs. Toute personne disposant d&#8217;une copie d&#8217;une clé privée a le contrôle du compte correspondant et de tout ether qu&#8217;il détient. En supposant qu&#8217;un utilisateur garde sa clé privée en sécurité, les signatures numériques dans les transactions Ethereum prouvent le véritable propriétaire des fonds, car elles prouvent la propriété de la clé privée.</p>
</div>
<div class="paragraph">
<p> Dans les systèmes basés sur la cryptographie à clé publique, tels que ceux utilisés par Ethereum, les clés sont fournies par paires composées d&#8217;une clé privée (secrète) et d&#8217;une clé publique. Considérez la clé publique comme similaire à un numéro de compte bancaire et la clé privée comme similaire au code PIN secret ; c&#8217;est ce dernier qui fournit le contrôle sur le compte, et le premier qui l&#8217;identifie aux autres. Les clés privées elles-mêmes sont très rarement vues par les utilisateurs d&#8217;Ethereum ; pour la plupart, ils sont stockés (sous forme cryptée) dans des fichiers spéciaux et gérés par le logiciel de portefeuille Ethereum.</p>
</div>
<div class="paragraph">
<p>Dans la partie paiement d&#8217;une transaction Ethereum, le destinataire prévu est représenté par une adresse Ethereum, qui est utilisée de la même manière que les détails du compte bénéficiaire d&#8217;un virement bancaire. Comme nous le verrons plus en détail sous peu, une adresse Ethereum pour un EOA est générée à partir de la partie clé publique d&#8217;une paire de clés. Cependant, toutes les adresses Ethereum ne représentent pas des paires de clés publiques-privées ; ils peuvent aussi représenter des contrats, qui, comme nous le verrons dans <a href="#smart_contracts_chapter">[smart_contracts_chapter]</a>, ne sont pas soutenus par des clés privées.</p>
</div>
<div class="paragraph">
<p>Dans le reste de ce chapitre, nous allons d&#8217;abord explorer la cryptographie de base un peu plus en détail et expliquer les mathématiques utilisées dans Ethereum. Ensuite, nous verrons comment les clés sont générées, stockées et gérées. Enfin, nous passerons en revue les différents formats d&#8217;encodage utilisés pour représenter les clés privées, les clés publiques et les adresses.</p>
</div>
</div>
<div class="sect2">
<h3 id="pkc">Cryptographie à clé publique et cryptomonnaie</h3>
<div class="paragraph">
<p>La cryptographie à clé publique (également appelée "cryptographie asymétrique") est un élément central de la sécurité de l&#8217;information moderne. Le protocole d&#8217;échange de clé, d&#8217;abord publié dans les années 1970 par Martin Hellman, Whitfield Diffie et Ralph Merkle, a été une percée monumentale qui a suscité la première grande vague d&#8217;intérêt public dans le domaine de la cryptographie. Avant les années 1970, de solides connaissances cryptographiques étaient gardées secrètes par <span class="keep-together">les gouvernements</span>.</p>
</div>
<div class="paragraph">
<p>La cryptographie à clé publique utilise des clés uniques pour sécuriser les informations. Ces clés sont basées sur des fonctions mathématiques qui ont une propriété particulière : il est facile de les calculer, mais difficile de calculer leur inverse. Sur la base de ces fonctions, la cryptographie permet la création de secrets numériques et de signatures numériques infalsifiables, qui sont sécurisées par les lois des mathématiques.</p>
</div>
<div class="paragraph">
<p>Par exemple, multiplier deux grands nombres premiers ensemble est trivial. Mais étant donné le produit de deux grands nombres premiers, il est très difficile de trouver les facteurs premiers (un problème appelé <em>factorisation primaire ou première</em>). Disons que nous présentons le nombre 8 018 009 et que nous vous disons qu&#8217;il est le produit de deux nombres premiers. Trouver ces deux nombres premiers est beaucoup plus difficile pour vous que pour moi de les multiplier pour produire 8 018 009.</p>
</div>
<div class="paragraph">
<p>Certaines de ces fonctions mathématiques peuvent être facilement inversées si vous connaissez des informations secrètes. Dans l&#8217;exemple précédent, si je vous dis que l&#8217;un des facteurs premiers est 2 003, vous pouvez trivialement trouver l&#8217;autre avec une simple division : 8 018 009 ÷ 2 003 = 4 003. Ces fonctions sont souvent appelées <em>fonctions de trappe</em> car elles sont très difficiles à inverser à moins que vous ne receviez une information secrète qui peut être utilisée comme raccourci pour inverser la fonction.</p>
</div>
<div class="paragraph">
<p>Une catégorie plus avancée de fonctions mathématiques utiles en cryptographie est basée sur des opérations arithmétiques sur une courbe elliptique. Dans l&#8217;arithmétique des courbes elliptiques, la multiplication modulo d&#8217;un nombre premier est simple mais la division (l&#8217;inverse) est pratiquement impossible.  C&#8217;est ce qu&#8217;on appelle le <em>problème de logarithme discret</em> et il n&#8217;y a actuellement aucune trappe connue. La <em>cryptographie à courbe elliptique</em> est largement utilisée dans les systèmes informatiques modernes et constitue la base de l&#8217;utilisation par Ethereum (et d&#8217;autres cryptomonnaies) des clés privées et des signatures numériques.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Consultez les ressources suivantes si vous souhaitez en savoir plus sur la cryptographie et les fonctions mathématiques utilisées dans la cryptographie moderne :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://bit.ly/2DcwNhn">Cryptographie</a></p>
</li>
<li>
<p><a href="http://bit.ly/2zeZV3c">Fonction trappe</a></p>
</li>
<li>
<p><a href="http://bit.ly/2ACJjnV">Factorisation première</a></p>
</li>
<li>
<p><a href="http://bit.ly/2Q7mZYI">Logarithme discret</a></p>
</li>
<li>
<p><a href="http://bit.ly/2zfeKCP">Cryptage des courbes elliptiques</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dans Ethereum, nous utilisons la cryptographie à clé publique (également connue sous le nom de cryptographie asymétrique) pour créer la paire de clés publique-privée dont nous avons parlé dans ce chapitre. Ils sont considérés comme une "paire" car la clé publique est dérivée de la clé privée. Ensemble, ils représentent un compte Ethereum en fournissant, respectivement, un identifiant de compte accessible au public (l&#8217;adresse) et un contrôle privé sur l&#8217;accès à tout ether du compte et sur toute authentification dont le compte a besoin lors de l&#8217;utilisation de contrats intelligents. La clé privée contrôle l&#8217;accès en étant l&#8217;élément d&#8217;information unique nécessaire pour créer des <em>signatures numériques</em>, qui sont nécessaires pour signer des transactions afin de dépenser des fonds sur le compte. Les signatures numériques sont également utilisées pour authentifier les propriétaires ou les utilisateurs de contrats, comme nous le verrons dans <a href="#smart_contracts_chapter">[smart_contracts_chapter]</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Dans la plupart des implémentations de portefeuille, les clés privées et publiques sont stockées ensemble sous la forme d&#8217;une <em>paire de clés</em> pour plus de commodité. Cependant, la clé publique peut être trivialement calculée à partir de la clé privée, de sorte qu&#8217;il est également possible de ne stocker que la clé privée.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Une signature numérique peut être créée pour signer n&#8217;importe quel message. Pour les transactions Ethereum, les détails de la transaction elle-même sont utilisés comme message. Les mathématiques de la cryptographie - dans ce cas, la cryptographie à courbe elliptique - permettent de combiner le message (c&#8217;est-à-dire les détails de la transaction) avec la clé privée pour créer un code qui ne peut être produit qu&#8217;avec la connaissance de la clé privée. Ce
code s&#8217;appelle la signature numérique. Notez qu&#8217;une transaction Ethereum est essentiellement une demande d&#8217;accès à un compte particulier avec une adresse Ethereum particulière. Lorsqu&#8217;une transaction est envoyée au réseau Ethereum afin de déplacer des fonds ou d&#8217;interagir avec des contrats intelligents, elle doit être envoyée avec une signature numérique créée avec la clé privée correspondant à l&#8217;adresse Ethereum en question. Les mathématiques de la courbe elliptique signifient que <em>n&#8217;importe qui</em> peut vérifier qu&#8217;une transaction est valide, en vérifiant que la signature numérique correspond aux détails de la transaction <em>et</em> à l&#8217;adresse Ethereum à laquelle l&#8217;accès est demandé. La vérification n&#8217;implique pas du tout la clé privée ; qui reste privé. Cependant, le processus de vérification détermine sans aucun doute que la transaction ne peut provenir que de quelqu&#8217;un avec la clé privée qui correspond à la clé publique derrière l&#8217;adresse Ethereum. C&#8217;est la « magie » de la cryptographie à clé publique.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Il n&#8217;y a pas de cryptage dans le cadre du protocole Ethereum - tous les messages envoyés dans le cadre du fonctionnement du réseau Ethereum peuvent (nécessairement) être lus par tout le monde. En tant que telles, les clés privées ne sont utilisées que pour créer des signatures numériques pour l&#8217;authentification des transactions.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="private_keys">Clés privées</h3>
<div class="paragraph">
<p> Une clé privée est simplement un nombre, choisi au hasard. La propriété et le contrôle de la clé privée sont à la base du contrôle de l&#8217;utilisateur sur tous les fonds associés à l&#8217;adresse Ethereum correspondante, ainsi que de l&#8217;accès aux contrats qui autorisent cette adresse. La clé privée est utilisée pour créer les signatures nécessaires pour dépenser de l&#8217;ether en prouvant la propriété des fonds utilisés dans une transaction. La clé privée doit rester secrète à tout moment, car la révéler à des tiers équivaut à leur donner le contrôle de l&#8217;ether et des contrats sécurisés par cette clé privée. La clé privée doit également être sauvegardée et protégée contre toute perte accidentelle. S&#8217;il est perdu, il ne peut pas être récupéré et les fonds garantis par celui-ci sont également perdus à jamais.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>La clé privée Ethereum n&#8217;est qu&#8217;un chiffre. Une façon de choisir vos clés privées au hasard consiste simplement à utiliser une pièce de monnaie, un crayon et du papier : lancez une pièce 256 fois et vous obtenez les chiffres binaires d&#8217;une clé privée aléatoire que vous pouvez utiliser dans un portefeuille Ethereum (probablement - voir la section suivante ). La clé publique et l&#8217;adresse peuvent ensuite être générées à partir de la clé privée.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="generating_private_key">Générer une clé privée à partir d&#8217;un nombre aléatoire</h4>
<div class="paragraph">
<p>Le premier et l&#8217;étape la plus importante dans la génération de clés consiste à trouver une source sécurisée d&#8217;entropie ou de caractère aléatoire. La création d&#8217;une clé privée Ethereum consiste essentiellement à choisir un nombre compris entre 1 et 2<sup>256</sup>. La méthode exacte que vous utilisez pour choisir ce nombre n&#8217;a pas d&#8217;importance tant qu&#8217;elle n&#8217;est pas prévisible ou déterministe. Le logiciel Ethereum utilise le générateur de nombres aléatoires du système d&#8217;exploitation sous-jacent pour produire 256 bits aléatoires. Habituellement, le générateur de nombres aléatoires du système d&#8217;exploitation est initialisé par une source humaine d&#8217;aléatoire, c&#8217;est pourquoi il peut vous être demandé de remuer votre souris pendant quelques secondes ou d&#8217;appuyer sur des touches aléatoires de votre clavier. Une alternative pourrait être le bruit de rayonnement cosmique sur le canal du microphone de l&#8217;ordinateur.</p>
</div>
<div class="paragraph">
<p>Plus précisément, une clé privée peut être n&#8217;importe quel nombre différent de zéro jusqu&#8217;à un très grand nombre légèrement inférieur à 2<sup>256</sup> - un énorme nombre à 78 chiffres, environ 1,158 * 10<sup>77</sup>. Le nombre exact partage les 38 premiers chiffres avec 2<sup>256</sup> et est défini comme l&#8217;ordre de la courbe elliptique utilisée dans Ethereum (voir <a href="#elliptic_curve">La cryptographie à courbe elliptique expliquée</a>). Pour créer une clé privée, nous choisissons au hasard un nombre de 256 bits et vérifions qu&#8217;il se trouve dans la plage valide. En termes de programmation, cela est généralement réalisé en introduisant une chaîne encore plus grande de bits aléatoires (collectés à partir d&#8217;une source aléatoire sécurisée par cryptographie) dans un algorithme de hachage de 256 bits tel que Keccak-256 ou SHA-256, qui produiront commodément un nombre de 256 bits. Si le résultat est dans la plage valide, nous avons une clé privée appropriée. Sinon, nous réessayons simplement avec un autre nombre aléatoire.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>2<sup>256</sup> - la taille de l&#8217;espace de clé privée d&#8217;Ethereum - est un nombre insondable. Il est d&#8217;environ 10<sup>77</sup> en décimal ; c&#8217;est-à-dire un nombre à 77 chiffres. À titre de comparaison, on estime que l&#8217;univers visible contient 10<sup>80</sup> atomes. Ainsi, il y a presque assez de clés privées pour donner à chaque atome de l&#8217;univers un compte Ethereum. Si vous choisissez une clé privée au hasard, il est impossible que quelqu&#8217;un la devine ou la choisisse lui-même.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Notez que le processus de génération de clé privée est hors ligne ; il ne nécessite aucune communication avec le réseau Ethereum, ni même aucune communication avec qui que ce soit. En tant que tel, afin de choisir un nombre que personne d&#8217;autre ne choisira jamais, il doit être vraiment aléatoire. Si vous choisissez vous-même le numéro, la probabilité que quelqu&#8217;un d&#8217;autre l&#8217;essaie (et s&#8217;enfuie ensuite avec votre ether) est trop élevée. Utiliser un mauvais générateur de nombres aléatoires (comme la fonction pseudo-aléatoire rand dans la plupart des langages de programmation) est encore pire, car il est encore plus évident et encore plus facile à reproduire. Tout comme pour les mots de passe des comptes en ligne, la clé privée doit être impossible à deviner. Heureusement, vous n&#8217;avez jamais besoin de vous souvenir de votre clé privée, vous pouvez donc adopter la meilleure approche possible pour la choisir : à savoir, le vrai hasard.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>N&#8217;écrivez pas votre propre code pour créer un nombre aléatoire ou n&#8217;utilisez pas un "simple" générateur de nombres aléatoires proposé par votre langage de programmation. Il est essentiel que vous utilisiez un générateur de nombres pseudo-aléatoires cryptographiquement sécurisé (tel que CSPRNG) avec une valeur d&#8217;amorçage provenant d&#8217;une source d&#8217;entropie suffisante. Étudiez la documentation de la bibliothèque de générateurs de nombres aléatoires que vous choisissez pour vous assurer qu&#8217;elle est cryptographiquement sécurisée. La mise en œuvre correcte de la bibliothèque CSPRNG est essentielle à la sécurité des clés.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ce qui suit est une clé privée générée aléatoirement affichée au format hexadécimal (256 bits affichés sous la forme de 64 chiffres hexadécimaux, chacun de 4 bits) :</p>
</div>
<div id="prv_key_example" class="listingblock">
<div class="content">
<pre>f8f8a2f43c8376ccb0871305060d7b27b0554d2cc72bccf41b2705608452f315</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pubkey">Clés publiques</h3>
<div class="paragraph">
<p>Une clé publique Ethereum est un <em>point</em> sur une courbe elliptique, ce qui signifie qu&#8217;il s&#8217;agit d&#8217;un ensemble de coordonnées <em>x</em> et <em>y</em> qui satisfont l&#8217;équation de la courbe elliptique.</p>
</div>
<div class="paragraph">
<p>En termes plus simples, une clé publique Ethereum est constituée de deux nombres réunis. Ces chiffres sont produits à partir de la clé privée par un calcul qui ne peut <em>aller que dans un sens</em>. Cela signifie qu&#8217;il est trivial de calculer une clé publique si vous avez la clé privée, mais vous ne pouvez pas calculer la clé privée à partir de la clé publique.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Des MATHÉMATIQUES sont sur le point d&#8217;arriver! Ne pas paniquer. Si vous commencez à vous perdre à n&#8217;importe quel moment dans les paragraphes suivants, vous pouvez ignorer les quelques sections suivantes. Il existe de nombreux outils et bibliothèques qui feront le calcul pour vous.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La clé publique est calculée à partir de la clé privée en utilisant la multiplication par courbe elliptique, qui est pratiquement irréversible : <em>K</em> = <em>k</em> * <em>G</em>, où <em>k</em> est la clé privée, <em>G</em> est un point constant appelé le <em>point générateur</em>, <em>K</em> est la clé publique résultante et * est l&#8217;opérateur spécial de "multiplication" de la courbe elliptique. Notez que la multiplication de courbe elliptique n&#8217;est pas comme la multiplication normale. Il partage des attributs fonctionnels avec la multiplication normale, mais c&#8217;est à peu près tout. Par exemple, l&#8217;opération inverse (qui serait une division pour des nombres normaux), connue sous le nom de "trouver le logarithme discret" - c&#8217;est-à-dire calculer <em>k</em> si vous connaissez <em>K</em> - est aussi difficile que d&#8217;essayer toutes les valeurs possibles de <em>k</em> (une recherche par force brute cela prendra probablement plus de temps que cet univers ne le permettra).</p>
</div>
<div class="paragraph">
<p>En termes plus simples : l&#8217;arithmétique sur la courbe elliptique est différente de l&#8217;arithmétique entière "régulière". Un point (<em>G</em>) peut être multiplié par un entier (<em>k</em>) pour produire un autre point (<em>K</em>). Mais la <em>division</em> n&#8217;existe pas, il n&#8217;est donc pas possible de simplement "diviser" la clé publique <em>K</em> par le point <em>G</em> pour calculer la clé privée <em>k</em>. Il s&#8217;agit de la fonction mathématique à sens unique décrite dans <a href="#pkc">Cryptographie à clé publique et cryptomonnaie</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>La multiplication de courbe elliptique est un type de fonction que les cryptographes appellent une fonction "à sens unique" : elle est facile à faire dans un sens (multiplication) et impossible à faire dans le sens inverse (division). Le propriétaire de la clé privée peut facilement créer la clé publique puis la partager avec le monde, sachant que personne ne peut inverser la fonction et calculer la clé privée à partir de la clé publique. Cette astuce mathématique devient la base de signatures numériques infalsifiables et sécurisées qui prouvent la propriété des fonds Ethereum et le contrôle des contrats.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Avant de montrer comment générer une clé publique à partir d&#8217;une clé privée, examinons un peu plus en détail la cryptographie à courbe elliptique.</p>
</div>
<div class="sect3">
<h4 id="elliptic_curve">La cryptographie à courbe elliptique expliquée</h4>
<div class="paragraph">
<p>La courbe elliptique cryptographique est un type de cryptographie asymétrique ou cryptographie à clé publique basée sur le problème du logarithme discret exprimé par addition et multiplication sur les points d&#8217;une courbe elliptique.</p>
</div>
<div class="paragraph">
<p><a href="#ecc-curve">Une visualisation d&#8217;une courbe elliptique</a> est un exemple de courbe elliptique, similaire à celle utilisée par Ethereum.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ethereum utilise exactement la même courbe elliptique, appelée <code>secp256k1</code>,que Bitcoin. Cela permet de réutiliser de nombreuses bibliothèques et outils de courbes elliptiques de Bitcoin.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="ecc-curve" class="imageblock">
<div class="content">
<img src="images/simple_elliptic_curve.png" alt="ecc-curve">
</div>
<div class="title">Figure 1. Une visualisation d&#8217;une courbe elliptique</div>
</div>
<div class="paragraph">
<p>Ethereum utilise une courbe elliptique spécifique et un ensemble de constantes mathématiques, telles que définies dans une norme appelée <code>secp256k1</code>,établie par le National Institute of Standards and Technology (NIST) des États-Unis. La courbe secp256k1 est définie par la fonction suivante, qui produit une courbe elliptique :</p>
</div>
<div data-type="equation">
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mrow>
    <mrow>
      <msup><mi>y</mi> <mn>2</mn> </msup>
      <mo>=</mo>
      <mrow>
        <mo>(</mo>
        <msup><mi>x</mi> <mn>3</mn> </msup>
        <mo>+</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mspace width="3.33333pt"/>
    <mtext>over</mtext>
    <mspace width="3.33333pt"/>
    <mrow>
      <mo>(</mo>
      <msub><mi>&#x1d53d;</mi> <mi>p</mi> </msub>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>
</div>
<div class="paragraph">
<p>ou alors:</p>
</div>
<div data-type="equation">
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mrow>
    <msup><mi>y</mi> <mn>2</mn> </msup>
    <mspace width="3.33333pt"/>
    <mo form="prefix">mod</mo>
    <mspace width="0.277778em"/>
    <mi>p</mi>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <msup><mi>x</mi> <mn>3</mn> </msup>
      <mo>+</mo>
      <mn>7</mn>
      <mo>)</mo>
    </mrow>
    <mspace width="3.33333pt"/>
    <mo form="prefix">mod</mo>
    <mspace width="0.277778em"/>
    <mi>p</mi>
  </mrow>
</math>
</div>
<div class="paragraph">
<p>Le <em>mod p</em> (modulo nombre premier <em>p</em>) indique que cette courbe est sur un corps fini d&#8217;ordre premier <em>p</em>, également écrit comme \(\( \mathbb{F}_p \)\), où <em>p</em> = 2<sup>256</sup> – 2<sup>32</sup> – 2<sup>9</sup> – 2<sup>8</sup> – 2<sup>7</sup> – 2<sup>6</sup> – 2<sup>4</sup> – 1, qui est un très grand nombre premier.</p>
</div>
<div class="paragraph">
<p>Parce que cette courbe est définie sur un champ fini d&#8217;ordre premier au lieu de sur les nombres réels, elle ressemble à un motif de points dispersés en deux dimensions, ce qui la rend difficile à visualiser. Cependant, le calcul est identique à celui d&#8217;une courbe elliptique sur des nombres réels. A titre d&#8217;exemple, <a href="#ecc-over-F17-math">Cryptographie sur courbe elliptique: visualisation d&#8217;une courbe elliptique sur F(p), avec p=17</a> montre la même courbe elliptique sur un champ fini beaucoup plus petit d&#8217;ordre premier 17, montrant un motif de points sur une grille. La courbe elliptique secp256k1 Ethereum peut être considérée comme un motif beaucoup plus complexe de points sur une grille insondable.</p>
</div>
<div id="ecc-over-F17-math" class="imageblock smallersixty">
<div class="content">
<img src="images/ec_over_small_prime_field.png" alt="ecc-over-F17-math">
</div>
<div class="title">Figure 2. Cryptographie sur courbe elliptique: visualisation d&#8217;une courbe elliptique sur F(p), avec p=17</div>
</div>
<div class="paragraph">
<p>Ainsi, par exemple, ce qui suit est un point <em>Q</em> avec des coordonnées (<em>x</em>,<em>y</em>) qui est un point sur la courbe secp256k1 :</p>
</div>
<div id="coordinates_example" class="listingblock">
<div class="content">
<pre>Q =
(49790390825249384486033144355916864607616083520101638681403973749255924539515,
59574132161899900045862086493921015780032175291755807399284007721050341297360)</pre>
</div>
</div>
<div class="paragraph">
<p><a href="#example_1">[example_1]</a> montre comment vous pouvez vérifier cela vous-même en utilisant Python. Les variables <code>x</code> et <code>y</code> sont les coordonnées du point <em>Q</em>, comme dans l&#8217;exemple précédent. La variable <code>p</code> est l&#8217;ordre premier de la courbe elliptique (le premier qui est utilisé pour toutes les opérations modulo). La dernière ligne de Python est l&#8217;équation de la courbe elliptique (l&#8217;opérateur <code>%</code> en Python est l&#8217;opérateur modulo). Si <code>x</code> et <code>y</code> sont bien les coordonnées d&#8217;un point sur la courbe elliptique, alors elles satisfont l&#8217;équation et le résultat est zéro (0L est un entier long valant zéro). Essayez vous-même, en tapant <strong>python</strong> sur une ligne de commande et en copiant chaque ligne (après l&#8217;invite <code>+ &gt;&gt;&gt; +</code>)de la liste.</p>
</div>
<div data-type="example" id="example_1">
<h5>Utiliser Python pour confirmer que ce point est sur la courbe elliptique</h5>
<pre data-type="programlisting">
Python 3.4.0 (default, Mar 30 2014, 19:23:13)
[GCC 4.2.1 Compatible Apple LLVM 5.1 (clang-503.0.38)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> <strong>p = 115792089237316195423570985008687907853269984665640564039457584007908834 \
671663</strong>
>>> <strong>x = 49790390825249384486033144355916864607616083520101638681403973749255924539515</strong>
>>> <strong>y = 59574132161899900045862086493921015780032175291755807399284007721050341297360</strong>
>>> <strong>(x ** 3 + 7 - y**2) % p</strong>
0L

</pre>
</div>
</div>
<div class="sect3">
<h4 id="EC_math">Opérations arithmétiques sur les courbes elliptiques</h4>
<div class="paragraph">
<p>Beaucoup de mathématiques sur les courbes elliptiques ressemblent beaucoup à l&#8217;arithmétique des nombres entiers que nous avons apprise à l&#8217;école. Plus précisément, nous pouvons définir un opérateur d&#8217;addition qui, au lieu de sauter le long de la droite numérique, saute vers d&#8217;autres points de la courbe. Une fois que nous avons l&#8217;opérateur d&#8217;addition, nous pouvons également définir la multiplication d&#8217;un point et d&#8217;un nombre entier, ce qui équivaut à une addition répétée.</p>
</div>
<div class="paragraph">
<p>L&#8217;addition de courbe elliptique est définie de telle sorte que, étant donné deux points <em>P</em><sub>1</sub> et <em>P</em><sub>2</sub> sur la courbe elliptique, il existe un troisième point <em>P</em><sub>3</sub> = <em>P</em><sub>1</sub> + <em>P</em><sub>2</sub>, également sur la courbe elliptique.</p>
</div>
<div class="paragraph">
<p>Géométriquement, ce troisième point <em>P</em><sub>3</sub> est calculé en traçant une ligne entre <em>P</em><sub>1</sub> et <em>P</em><sub>2</sub>. Cette ligne coupera la courbe elliptique exactement à un endroit supplémentaire (étonnamment). Appelez ce point <em>P</em><sub>3</sub>' = (<em>x</em>, <em>y</em>). Réfléchissez ensuite sur l&#8217;axe des x pour obtenir <em>P</em><sub>3</sub> = (<em>x</em>, <em>–y</em>).</p>
</div>
<div class="paragraph">
<p>Si <em>P</em><sub>1</sub> et <em>P</em><sub>2</sub> sont au même point, la ligne "entre" <em>P</em><sub>1</sub> et <em>P</em><sub>2</sub> devrait s&#8217;étendre pour être la tangente à la courbe en ce point <em>P</em><sub>1</sub>. Cette tangente coupera la courbe exactement en un nouveau point. Vous pouvez utiliser des techniques de calcul pour déterminer la pente de la ligne tangente. Curieusement, ces techniques fonctionnent, même si nous restreignons notre intérêt aux points de la courbe à deux coordonnées entières !</p>
</div>
<div class="paragraph">
<p>Dans les mathématiques des courbes elliptiques, il existe également un point appelé "point à l&#8217;infini", qui correspond à peu près au rôle du nombre zéro en addition. Sur les ordinateurs, il est parfois représenté par <em>x</em> = <em>y</em> = 0 (ce qui ne satisfait pas l&#8217;équation de la courbe elliptique, mais c&#8217;est un cas séparé facile qui peut être vérifié). Il y a quelques cas particuliers qui expliquent la nécessité du point à l&#8217;infini.</p>
</div>
<div class="paragraph">
<p>Dans certains cas (par exemple, si <em>P</em><sub>1</sub> et <em>P</em><sub>2</sub> ont les mêmes valeurs <em>x</em> mais des valeurs <em>y</em> différentes), la ligne sera exactement verticale, auquel cas <em>P</em><sub>3</sub> = le point à l&#8217;infini.</p>
</div>
<div class="paragraph">
<p>Si <em>P</em><sub>1</sub> est le point à l&#8217;infini, alors <em>P</em><sub>1</sub> + <em>P</em><sub>2</sub> = <em>P</em><sub>2</sub>. De même, si <em>P</em><sub>2</sub> est le point à l&#8217;infini, alors <em>P</em><sub>1</sub> + <em>P</em><sub>2</sub> = <em>P</em><sub>1</sub>. Cela montre comment le point à l&#8217;infini joue le rôle que joue zéro dans l&#8217;arithmétique "normale".</p>
</div>
<div class="paragraph">
<p>Il s&#8217;avère que + est associatif, ce qui signifie que (<em>A</em> + <em>B</em>) + <em>C</em> = <em>A</em> + (<em>B</em> + <em>C</em>). Cela signifie que nous pouvons écrire <em>A</em> + <em>B</em> + <em>C</em> (sans parenthèses) sans ambiguïté.</p>
</div>
<div class="paragraph">
<p>Maintenant que nous avons défini l&#8217;addition, nous pouvons définir la multiplication de la manière standard qui étend l&#8217;addition. Pour un point <em>P</em> sur la courbe elliptique, si <em>k</em> est un nombre entier, alors <em>k</em> * <em>P</em> = <em>P</em> + <em>P</em> + <em>P</em> + &#8230;&#8203; + <em>P</em> (<em>k</em> fois). Notez que <em>k</em> est parfois (peut-être de manière déroutante) appelé un "exposant" dans ce cas.</p>
</div>
</div>
<div class="sect3">
<h4 id="public_key_derivation">Génération d&#8217;une clé publique</h4>
<div class="paragraph">
<p>Commencer avec une clé privée sous la forme d&#8217;un nombre <em>k</em> généré aléatoirement, nous le multiplions par un point prédéterminé sur la courbe appelé <em>point générateur</em> <em>G</em> pour produire un autre point ailleurs sur la courbe, qui est la clé publique correspondante <em>K</em> :</p>
</div>
<div data-type="equation">
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mrow>
    <mi>K</mi>
    <mo>=</mo>
    <mi>k</mi>
    <mo>*</mo>
    <mi>G</mi>
  </mrow>
</math>
</div>
<div class="paragraph">
<p>Le point générateur est spécifié dans le cadre de la norme secp256k1 ; c&#8217;est la même chose pour toutes les implémentations de <code>secp256k1</code>,et toutes les clés dérivées de cette courbe utilisent le même point <em>G</em>. Comme le point générateur est toujours le même pour tous les utilisateurs d&#8217;Ethereum, une clé privée <em>k</em> multipliée par <em>G</em> donnera toujours la même clé publique <em>K</em>. La relation entre <em>k</em> et <em>K</em> est fixe, mais ne peut être calculée que dans un sens, de <em>k</em> vers <em>K</em>. C&#8217;est pourquoi une adresse Ethereum (dérivée de <em>K</em>) peut être partagée avec n&#8217;importe qui et ne révèle pas la clé privée de l&#8217;utilisateur (<em>k</em>).</p>
</div>
<div class="paragraph">
<p>Comme nous l&#8217;avons décrit dans la section précédente, la multiplication de <em>k</em> * <em>G</em> est équivalente à une addition répétée, donc <em>G</em> + <em>G</em> + <em>G</em> + &#8230;&#8203; + <em>G</em>, répété <em>k</em> fois. En résumé, pour produire une clé publique <em>K</em> à partir d&#8217;une clé privée <em>k</em>, on ajoute le point générateur <em>G</em> à lui-même, <em>k</em> fois.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Une clé privée peut être convertie en clé publique, mais une clé publique ne peut pas être reconvertie en clé privée, car le calcul ne fonctionne que dans un sens.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Appliquons ce calcul pour trouver la clé publique de la clé privée spécifique que nous vous avons montrée dans <a href="#private_keys">Clés privées</a> :</p>
</div>
<div id="example_privkey" class="listingblock">
<div class="title">Exemple de calcul de clé privée à clé publique</div>
<div class="content">
<pre>K = f8f8a2f43c8376ccb0871305060d7b27b0554d2cc72bccf41b2705608452f315 * G</pre>
</div>
</div>
<div class="paragraph">
<p>Une bibliothèque cryptographique peut nous aider à calculer <em>K</em>, en utilisant la multiplication de courbes elliptiques. La clé publique résultante <em>K</em> est définie comme le point :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>K = (x, y)</pre>
</div>
</div>
<div class="paragraph">
<p>où:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>x = 6e145ccef1033dea239875dd00dfb4fee6e3348b84985c92f103444683bae07b
y = 83b5c38e5e2b0c8529d7fa3f64d46daa1ece2d9ac14cab9477d042c84c32ccd0</pre>
</div>
</div>
<div class="paragraph">
<p>Dans Ethereum, vous pouvez voir des clés publiques représentées par une sérialisation de 130 caractères hexadécimaux (65 octets ). Ceci est adopté à partir d&#8217;un format de sérialisation standard proposé par le consortium industriel Standards for Efficient Cryptography Group (SECG), documenté dans <a href="http://www.secg.org/sec1-v2.pdf" class="bare">http://www.secg.org/sec1-v2.pdf</a> [Standards for Efficient Cryptography (SEC1)]. La norme définit quatre préfixes possibles pouvant être utilisés pour identifier des points sur une courbe elliptique, répertoriés dans <a href="#EC_prefix_table">Préfixes de clé publique EC sérialisés</a>.</p>
</div>
<table id="EC_prefix_table" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Préfixes de clé publique EC sérialisés</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Préfixe</th>
<th class="tableblock halign-left valign-top">Signification</th>
<th class="tableblock halign-left valign-top">Longueur (octets comptant le préfixe)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pointe à l&#8217;infini</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point non compressé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point compressé avec pair <code>y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point compressé avec impair <code>y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ethereum utilise uniquement des clés publiques non compressées ; par conséquent, le seul préfixe pertinent est (hex) <code>04</code>.La sérialisation concatène les coordonnées <em>x</em> et <em>y</em> de la clé publique :</p>
</div>
<div id="concat_coordinates" class="listingblock">
<div class="content">
<pre>04 + coordonnée x (32 octets/64 hex) + coordonnée y (32 octets/64 hex)</pre>
</div>
</div>
<div class="paragraph">
<p>Par conséquent, la clé publique que nous avons calculée précédemment est sérialisée comme suit :</p>
</div>
<div id="serialized_pubkey" class="listingblock">
<div class="content">
<pre>046e145ccef1033dea239875dd00dfb4fee6e3348b84985c92f103444683bae07b83b5c38e5e2b0 \
c8529d7fa3f64d46daa1ece2d9ac14cab9477d042c84c32ccd0</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="EC_lib">Bibliothèques de courbes elliptiques</h4>
<div class="paragraph">
<p>Il existe quelques implémentations de la courbe elliptique secp256k1 qui sont utilisées dans les projets liés à la cryptomonnaie :</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="https://www.openssl.org/">OpenSSL</a></dt>
<dd>
<p>La bibliothèque OpenSSL offre un ensemble complet de primitives cryptographiques, y compris une implémentation complète de <code>secp256k1</code>.Par exemple, pour dériver la clé publique, la fonction EC_POINT_mul peut être utilisée.</p>
</dd>
<dt class="hdlist1"><a href="https://github.com/bitcoin-core/secp256k1">libsecp256k1</a></dt>
<dd>
<p>libsecp256k1 de Bitcoin Core est une implémentation en langage C de la courbe elliptique secp256k1 et d&#8217;autres primitives cryptographiques. Il a été écrit à partir de zéro pour remplacer OpenSSL dans le logiciel Bitcoin Core et est considéré comme supérieur en termes de performances et de sécurité.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hash_functions">Fonctions de hachage cryptographique</h3>
<div class="paragraph">
<p>Les fonctions de hachage cryptographiques sont utilisées dans Ethereum. En fait, les fonctions de hachage sont largement utilisées dans presque tous les systèmes cryptographiques - un fait capturé par <span class="keep-together">cryptographeur</span> <a href="http://bit.ly/2Q79qZp">Bruce Schneier</a>, qui a dit , "Bien plus que des algorithmes de chiffrement, les fonctions de hachage unidirectionnelles sont les bêtes de somme de la cryptographie moderne."</p>
</div>
<div class="paragraph">
<p>Dans cette section, nous discuterons des fonctions de hachage, explorerons leurs propriétés de base et verrons comment ces propriétés les rendent si utiles dans de nombreux domaines de la cryptographie moderne. Nous abordons ici les fonctions de hachage car elles font partie de la transformation des clés publiques Ethereum en adresses. Ils peuvent également être utilisés pour créer des <em>empreintes digitales</em>, qui facilitent la vérification des données.</p>
</div>
<div class="paragraph">
<p>En termes simples, une <a href="http://bit.ly/2CR26gD"><em>fonction de hachage</em></a> est "toute fonction qui peut être utilisée pour mapper des données de taille arbitraire à des données de taille fixe. ” L&#8217;entrée d&#8217;une fonction de hachage est appelée une <em>pré-image</em>, le <em>message</em> ou simplement les <em>données d&#8217;entrée</em>. La sortie est appelée <em>hash</em> ou <em>résultat de hachage</em> ou <em>hachage</em> en français. <a href="http://bit.ly/2Jrn3jM"><em>Les fonctions de hachage cryptographiques</em></a> sont une sous-catégorie spéciale qui possède des propriétés spécifiques utiles pour sécuriser les plates-formes, telles qu&#8217;Ethereum.</p>
</div>
<div class="paragraph">
<p>Une fonction de hachage cryptographique est une fonction de hachage <em>unidirectionnelle</em> qui associe des données de taille arbitraire à une chaîne de bits de taille fixe. La nature "unidirectionnelle" signifie qu&#8217;il est impossible de recréer les données d&#8217;entrée si l&#8217;on ne connaît que le hachage de sortie. La seule façon de déterminer une entrée possible est de mener une recherche par force brute, en vérifiant chaque candidat pour une sortie correspondante ; étant donné que l&#8217;espace de recherche est virtuellement infini, il est aisé de comprendre l&#8217;impossibilité pratique de la tâche. Même si vous trouvez des données d&#8217;entrée qui créent un hachage correspondant, il se peut qu&#8217;il ne s&#8217;agisse pas des données d&#8217;entrée d&#8217;origine : les fonctions de hachage sont des fonctions "plusieurs vers un". Trouver deux ensembles de données d&#8217;entrée qui hachent la même sortie s&#8217;appelle trouver une <em>collision de hachage</em>. En gros, plus la fonction de hachage est bonne, plus les collisions de hachage sont rares. Pour Ethereum, ils sont effectivement impossibles.</p>
</div>
<div class="paragraph">
<p>Regardons de plus près les principales propriétés des fonctions de hachage cryptographiques. Ceux-ci inclus:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Déterministe </dt>
<dd>
<p>Un message d&#8217;entrée donné produit toujours la même sortie de hachage.</p>
</dd>
<dt class="hdlist1">Vérifiable </dt>
<dd>
<p>Le calcul du hachage d&#8217;un message est efficace (complexité linéaire).</p>
</dd>
<dt class="hdlist1">Non-corrélationnaire</dt>
<dd>
<p>Une petite modification du message (par exemple, un changement de 1 bit) devrait modifier la sortie de hachage si largement qu&#8217;elle ne peut pas être corrélée au hachage du message d&#8217;origine.</p>
</dd>
<dt class="hdlist1">Irréversibile</dt>
<dd>
<p>Le calcul du message à partir de son hachage est irréalisable, ce qui équivaut à une recherche par force brute dans tous les messages possibles.</p>
</dd>
<dt class="hdlist1">Protection contre les collisions</dt>
<dd>
<p>Il devrait être impossible de calculer deux messages différents qui produisent la même sortie de hachage.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>La résistance aux collisions de hachage est particulièrement importante pour éviter la falsification de signature numérique dans Ethereum.</p>
</div>
<div class="paragraph">
<p>La combinaison de ces propriétés rend les fonctions de hachage cryptographiques utiles pour un large éventail d&#8217;applications de sécurité, notamment :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Empreinte des données</p>
</li>
<li>
<p>Intégrité des messages (détection d&#8217;erreur)</p>
</li>
<li>
<p>Preuve de travail</p>
</li>
<li>
<p>Authentification (hachage de mot de passe et étirement de clé)</p>
</li>
<li>
<p>Générateurs de nombres pseudo-aléatoires</p>
</li>
<li>
<p>Engagement de message (mécanismes de validation-révélation)</p>
</li>
<li>
<p>Identifiants uniques</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nous en trouverons beaucoup dans Ethereum au fur et à mesure que nous progressons dans les différentes couches du système.</p>
</div>
<div class="sect3">
<h4 id="keccak256">Fonction de hachage cryptographique d&#8217;Ethereum : Keccak-256</h4>
<div class="paragraph">
<p>Ethereum utilise le hachage cryptographique <em>Keccak-256</em> dans de nombreux endroits. Keccak-256 a été conçu comme candidat pour le SHA-3 Cryptographic Hash Function Competition organisé en 2007 par le National Institute of Science and Technology (NIST). Keccak était l&#8217;algorithme gagnant, qui a été normalisé en tant que Federal Information Processing Standard (FIPS) 202 en 2015.</p>
</div>
<div class="paragraph">
<p>Cependant, pendant la période de développement d&#8217;Ethereum, la normalisation du NIST n&#8217;était pas encore finalisée. Le NIST a ajusté certains des paramètres de Keccak après l&#8217;achèvement du processus de normalisation, prétendument pour améliorer son efficacité. Cela se produisait en même temps que le dénonciateur héroïque Edward Snowden a révélé des documents qui impliquent que le NIST pourrait avoir été indûment influencé par la National Security Agency (NSA) pour affaiblir intentionnellement la norme de générateur de nombres aléatoires Dual_EC_DRBG, plaçant effectivement une porte dérobée dans le générateur de nombres aléatoires standard. Le résultat de cette controverse a été une réaction violente contre les modifications proposées et un retard important dans la normalisation de SHA-3. À l&#8217;époque, la Fondation Ethereum a décidé d&#8217;implémenter l&#8217;algorithme Keccak original, tel que proposé par ses inventeurs, plutôt que la norme SHA-3 telle que modifiée par le NIST.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Bien que vous puissiez voir "SHA-3" mentionné dans les documents et le code Ethereum, beaucoup, sinon toutes, de ces instances font en fait référence à Keccak-256, et non à la norme FIPS-202 SHA-3 finalisée. Les différences d&#8217;implémentation sont légères, liées aux paramètres de remplissage, mais elles sont importantes dans la mesure où Keccak-256 produit des sorties de hachage différentes de FIPS-202 SHA-3 pour la même entrée.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="which_hash">Quelle fonction de hachage suis-je en train d&#8217;utiliser ?</h4>
<div class="paragraph">
<p>Comment pouvez-vous savoir si la bibliothèque de logiciels que vous utilisez implémente FIPS-202 SHA-3 ou Keccak-256, si les deux pouvaient s&#8217;appeler "SHA-3" ?</p>
</div>
<div class="paragraph">
<p>Un moyen simple de le dire est d&#8217;utiliser un <em>vecteur de test</em>, une sortie attendue pour une entrée donnée. Le test le plus couramment utilisé pour une fonction de hachage est l' <em>entrée vide</em>. Si vous exécutez la fonction de hachage avec une chaîne vide en entrée, vous devriez voir les résultats suivants :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Keccak256("") =
  c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470

SHA3("") =
  a7ffc6f8bf1ed76651c14756a061d662f580ff4de43b49fa82d80a4b80f8434a</pre>
</div>
</div>
<div class="paragraph">
<p>Quel que soit le nom de la fonction, vous pouvez la tester pour voir s&#8217;il s&#8217;agit du Keccak-256 d&#8217;origine ou de la norme NIST finale FIPS-202 SHA-3 en exécutant ce test simple. N&#8217;oubliez pas qu&#8217;Ethereum utilise Keccak-256, même s&#8217;il est souvent appelé SHA-3 dans le code.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>En raison de la confusion créée par la différence entre la fonction de hachage utilisée dans Ethereum (Keccak-256) et la norme finalisée (FIP-202 SHA-3), des efforts sont en cours pour renommer toutes les instances de sha3 dans tous les codes, opcodes, et des bibliothèques à <code>keccak256</code>.Voir <a href="https://github.com/ethereum/EIPs/issues/59">ERC59</a> pour plus de détails.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examinons ensuite la première application de Keccak-256 dans Ethereum, qui consiste à produire des adresses Ethereum à partir de clés publiques.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eth_address">Adresses Ethereum</h3>
<div class="paragraph">
<p>Les adresses Ethereum sont des <em>identifiants uniques</em> dérivés de clés publiques ou de contrats utilisant la fonction de hachage unidirectionnelle Keccak-256.</p>
</div>
<div class="paragraph">
<p>Dans nos exemples précédents, nous avons commencé avec une clé privée et avons utilisé la multiplication par courbe elliptique pour dériver une clé publique :</p>
</div>
<div class="paragraph pagebreak-before">
<p>Clé privée <em>k</em> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>k = f8f8a2f43c8376ccb0871305060d7b27b0554d2cc72bccf41b2705608452f315</pre>
</div>
</div>
<div id="concat_pubkey" class="paragraph">
<p>Clé publique <em>K</em> (coordonnées <em>x</em> et <em>y</em> concaténées et affichées en hexadécimal) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>K = 6e145ccef1033dea239875dd00dfb4fee6e3348b84985c92f103444683bae07b83b5c38e5e...</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Il est à noter que la clé publique n&#8217;est pas formatée avec le préfixe (hex) 04 lors du calcul de l&#8217;adresse.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nous utilisons Keccak-256 pour calculer le <em>hachage</em> de cette clé publique :</p>
</div>
<div id="calculate_hash" class="listingblock">
<div class="content">
<pre>Keccak256(K) = 2a5bc342ed616b5ba5732269001d3f1ef827552ae1114027bd3ecf1f086ba0f9</pre>
</div>
</div>
<div class="paragraph">
<p>Ensuite, nous ne gardons que les 20 derniers octets (octets les moins significatifs), qui sont notre adresse Ethereum :</p>
</div>
<div id="keep_last_20" class="listingblock">
<div class="content">
<pre>001d3f1ef827552ae1114027bd3ecf1f086ba0f9</pre>
</div>
</div>
<div class="paragraph">
<p>Le plus souvent, vous verrez des adresses Ethereum avec le préfixe 0x qui indique qu&#8217;elles sont codées en hexadécimal, comme ceci :</p>
</div>
<div id="hex_prefix" class="listingblock">
<div class="content">
<pre>0x001d3f1ef827552ae1114027bd3ecf1f086ba0f9</pre>
</div>
</div>
<div class="sect3">
<h4 id="eth_address_format">Formats d&#8217;adresse Ethereum</h4>
<div class="paragraph">
<p>Les adresses Ethereum sont des nombres hexadécimaux, des identifiants dérivés des 20 derniers octets du hachage Keccak-256 de la clé publique.</p>
</div>
<div class="paragraph">
<p>("somme de contrôle","dans les formats d&#8217;adresses Ethereum"Contrairement aux adresses Bitcoin, qui sont encodées dans l&#8217;interface utilisateur de tous les clients pour inclure une somme de contrôle intégrée pour se protéger contre les adresses mal saisies, les adresses Ethereum sont présentées sous forme hexadécimale brute sans aucune somme de contrôle.</p>
</div>
<div class="paragraph">
<p>La justification de cette décision était que les adresses Ethereum seraient éventuellement cachées derrière des abstractions (telles que les services de noms) aux couches supérieures du système et que des sommes de contrôle devraient être ajoutées aux couches supérieures si nécessaire.</p>
</div>
<div class="paragraph">
<p>En réalité, ces couches supérieures ont été développées trop lentement et ce choix de conception a entraîné un certain nombre de problèmes dans les premiers jours de l&#8217;écosystème, notamment la perte de fonds en raison d&#8217;adresses mal saisies et d&#8217;erreurs de validation des entrées. De plus, comme les services de noms Ethereum ont été développés plus lentement que prévu initialement, les encodages alternatifs ont été adoptés très lentement par les développeurs de portefeuilles. Nous examinerons ensuite quelques-unes des options d&#8217;encodage.</p>
</div>
</div>
<div class="sect3">
<h4 id="ICAP">Inter Exchange Client Address Protocol (ICAP)</h4>
<div class="paragraph">
<p>Le client <em>Inter exchange Address Protocol</em> (ICAP) est un codage d&#8217;adresse Ethereum partiellement compatible avec le International Bank Account Number (IBAN), offrant un encodage polyvalent, à somme de contrôle et interopérable pour les adresses Ethereum. Les adresses ICAP peuvent encoder des adresses Ethereum ou des noms communs enregistrés auprès d&#8217;un registre de noms Ethereum. Vous pouvez en savoir plus sur ICAP sur <a href="http://bit.ly/2JsZHKu">Ethereum Wiki</a>.</p>
</div>
<div class="paragraph">
<p>L&#8217;IBAN est une norme internationale d&#8217;identification des numéros de compte bancaire, principalement utilisée pour les virements électroniques. Il est largement adopté dans l&#8217;espace européen unique de paiements en euros (SEPA) et au-delà. L&#8217;IBAN est un service centralisé et fortement réglementé. ICAP est une implémentation décentralisée mais compatible pour les adresses Ethereum.</p>
</div>
<div class="paragraph">
<p>Un IBAN consiste en une chaîne de 34 caractères alphanumériques au maximum (insensible à la casse) comprenant un code pays, une somme de contrôle et un identifiant de compte bancaire (qui est spécifique au pays).</p>
</div>
<div class="paragraph">
<p>ICAP utilise la même structure en introduisant un code de pays non standard, "XE", qui signifie "Ethereum", suivi d&#8217;une somme de contrôle à deux caractères et de trois variantes possibles d&#8217;un identifiant de compte :</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Direct</dt>
<dd>
<p>Un entier gros-boutiste base-36 comprenant jusqu&#8217;à 30 caractères alphanumériques, représentant les 155 bits les moins significatifs d&#8217;une adresse Ethereum. Étant donné que cet encodage correspond à moins que les 160 bits complets d&#8217;une adresse Ethereum générale, il ne fonctionne que pour les adresses Ethereum qui commencent par un ou plusieurs octets à zéro. L&#8217;avantage est qu&#8217;il est compatible avec l&#8217;IBAN, en termes de longueur de champ et de somme de contrôle. Exemple : XE60HAMICDXSV5QXVJA7TJW47Q9CHWKJD (33 caractères).</p>
</dd>
<dt class="hdlist1">Basic</dt>
<dd>
<p>Identique à l&#8217;encodage Direct, sauf qu&#8217;il comporte 31 caractères. Cela lui permet d&#8217;encoder n&#8217;importe quelle adresse Ethereum, mais la rend incompatible avec la validation du champ IBAN. Exemple : XE18CHDJBPLTBCJ03FE9O2NS0BPOJVQCU2P (35 caractères).</p>
</dd>
<dt class="hdlist1">Indirect</dt>
<dd>
<p>Encode un identifiant qui se résout en une adresse Ethereum via un fournisseur de registre de noms. Il utilise 16 caractères alphanumériques, comprenant un <em>identifiant d&#8217;actif</em> (par exemple, ETH), un service de nom (par exemple, XREG) et un nom lisible par l&#8217;homme à 9 caractères (par exemple, KITTYCATS). Exemple : XE##ETHXREGKITTYCATS (longueur de 20 caractères), où le ## doit être remplacé par les deux caractères de la somme de contrôle calculée.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Nous pouvons utiliser l&#8217;outil de ligne de commande helpeth pour créer des adresses ICAP. Vous pouvez obtenir de l&#8217;aide en l&#8217;installant avec :</p>
</div>
<pre data-type="programlisting">
$ <strong>npm install -g helpeth</strong>

</pre>
<div class="paragraph">
<p>Si vous n&#8217;avez pas npm, vous devrez peut-être d&#8217;abord installer nodeJS, ce que vous pouvez faire en suivant les instructions sur <a href="https://nodeJS.org" class="bare">https://nodeJS.org</a>.</p>
</div>
<div class="paragraph">
<p>Maintenant que nous avons helpeth, essayons de créer une adresse ICAP avec notre exemple de clé privée (préfixée par 0x et passée en paramètre à helpeth).</p>
</div>
<pre data-type="programlisting">
$ <strong>helpeth keyDetails \
  -p 0xf8f8a2f43c8376ccb0871305060d7b27b0554d2cc72bccf41b2705608452f315</strong>

Address: 0x001d3f1ef827552ae1114027bd3ecf1f086ba0f9
ICAP: XE60 HAMI CDXS V5QX VJA7 TJW4 7Q9C HWKJ D
Public key: 0x6e145ccef1033dea239875dd00dfb4fee6e3348b84985c92f103444683bae07b...

</pre>
<div class="paragraph">
<p>La commande helpeth construit une adresse Ethereum hexadécimale ainsi qu&#8217;une adresse ICAP pour nous. L&#8217;adresse ICAP de notre exemple de clé est :</p>
</div>
<div id="ICAP_example" class="listingblock">
<div class="content">
<pre>XE60HAMICDXSV5QXVJA7TJW47Q9CHWKJD</pre>
</div>
</div>
<div class="paragraph">
<p>Étant donné que notre exemple d&#8217;adresse Ethereum commence par un octet zéro, il peut être encodé à l&#8217;aide de la méthode d&#8217;encodage Direct ICAP qui est valide au format IBAN. Vous pouvez le dire car il comporte 33 caractères.</p>
</div>
<div class="paragraph">
<p>Si notre adresse ne commençait pas par un zéro, elle serait encodée avec l&#8217;encodage Basic, qui comporterait 35 caractères et serait invalide en tant qu&#8217;IBAN.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Les chances qu&#8217;une adresse Ethereum commence par un octet zéro sont de 1 sur 256. Pour en générer une comme celle-là, il faudra en moyenne 256 tentatives avec 256 clés privées aléatoires différentes avant d&#8217;en trouver une qui fonctionne comme un type "Direct" compatible IBAN encodé comme adresse ICAP.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>À l&#8217;heure actuelle, ICAP n&#8217;est malheureusement pris en charge que par quelques portefeuilles.</p>
</div>
</div>
<div class="sect3">
<h4 id="EIP55">Encodage hexadécimal avec somme de contrôle en majuscules (EIP-55)</h4>
<div class="paragraph">
<p>En raison de la lenteur du déploiement d&#8217;ICAP et des services de noms, une norme a été proposée par la <a href="https://github.com/Ethereum/EIPs/blob/master/EIPS/eip-55.md">Proposition d&#8217;amélioration d&#8217;Ethereum 55 (EIP-55)</a>. EIP-55 offre une somme de contrôle rétrocompatible pour les adresses Ethereum en modifiant la capitalisation de l&#8217;adresse hexadécimale. L&#8217;idée est que les adresses Ethereum sont insensibles à la casse et que tous les portefeuilles sont censés accepter les adresses Ethereum exprimées en majuscules ou en minuscules, sans aucune différence d&#8217;interprétation.</p>
</div>
<div class="paragraph">
<p>En modifiant la capitalisation des caractères alphabétiques dans l&#8217;adresse, nous pouvons transmettre une somme de contrôle qui peut être utilisée pour protéger l&#8217;intégrité de l&#8217;adresse contre les erreurs de frappe ou de lecture. Les portefeuilles qui ne prennent pas en charge les sommes de contrôle EIP-55 ignorent simplement le fait que l&#8217;adresse contient des majuscules mixtes, mais ceux qui la prennent en charge peuvent la valider et détecter les erreurs avec une précision de 99,986 %.</p>
</div>
<div class="paragraph">
<p>L&#8217;encodage en majuscules mixtes est subtil et vous ne le remarquerez peut-être pas au début. Notre exemple d&#8217;adresse est :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0x001d3f1ef827552ae1114027bd3ecf1f086ba0f9</pre>
</div>
</div>
<div class="paragraph">
<p>Avec une somme de contrôle à capitalisation mixte EIP-55, cela devient :</p>
</div>
<div id="mixed_capitalization" class="listingblock">
<div class="content">
<pre>0x001d3F1ef827552Ae1114027BD3ECF1f086bA0F9</pre>
</div>
</div>
<div class="paragraph">
<p>Pouvez-vous faire la différence? Certains des caractères alphabétiques (A à F) de l&#8217;alphabet de codage hexadécimal sont désormais en majuscules, tandis que d&#8217;autres sont en minuscules.</p>
</div>
<div class="paragraph">
<p>EIP-55 est assez simple à mettre en œuvre. Nous prenons le hachage Keccak-256 de l&#8217;adresse hexadécimale minuscule. Ce hachage agit comme une empreinte numérique de l&#8217;adresse, nous donnant une somme de contrôle pratique. Tout petit changement dans l&#8217;entrée (l&#8217;adresse) devrait entraîner un grand changement dans le hachage résultant (la somme de contrôle), nous permettant de détecter efficacement les erreurs. Le hachage de notre adresse est ensuite encodé dans la capitalisation de l&#8217;adresse elle-même. Décomposons-le, étape par étape :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Hachez l&#8217;adresse en minuscules, sans le préfixe 0x :</p>
</li>
</ol>
</div>
<div id="hash_lower_case_address" class="listingblock">
<div class="content">
<pre>Keccak256("001d3f1ef827552ae1114027bd3ecf1f086ba0f9") =
23a69c1653e4ebbb619b0b2cb8a9bad49892a8b9695d9a19d8f673ca991deae1</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Mettez en majuscule chaque caractère d&#8217;adresse alphabétique si le chiffre hexadécimal correspondant du hachage est supérieur ou égal à <code>0x8</code>.C&#8217;est plus facile à montrer si nous alignons l&#8217;adresse et le hachage :</p>
</li>
</ol>
</div>
<div id="capitalize_input" class="listingblock">
<div class="content">
<pre>Adresse : 001d3f1ef827552ae1114027bd3ecf1f086ba0f9
Hachage : 23a69c1653e4ebbb619b0b2cb8a9bad49892a8b9...</pre>
</div>
</div>
<div class="paragraph">
<p>Notre adresse contient un caractère alphabétique <code>d</code> en quatrième position. Le quatrième caractère du hachage est <code>6</code>,qui est inférieur à <code>8</code>. Donc, nous laissons le <code>d</code> minuscule. Le prochain caractère alphabétique de notre adresse est <code>f</code>,en sixième position. Le sixième caractère du hachage hexadécimal est <code>c</code>,qui est supérieur à <code>8</code>. Par conséquent, nous capitalisons le <code>F</code> dans l&#8217;adresse, et ainsi de suite. Comme vous pouvez le voir, nous n&#8217;utilisons que les 20 premiers octets (40 caractères hexadécimaux) du hachage comme somme de contrôle, car nous n&#8217;avons que 20 octets (40 caractères hexadécimaux) dans l&#8217;adresse à capitaliser de manière appropriée.</p>
</div>
<div class="paragraph">
<p>Vérifiez vous-même l&#8217;adresse en majuscules mixtes résultante et voyez si vous pouvez dire quels caractères ont été en majuscules et à quels caractères ils correspondent dans le hachage de l&#8217;adresse :</p>
</div>
<div id="capitalize_output" class="listingblock">
<div class="content">
<pre>Adresse : 001d3F1ef827552Ae1114027BD3ECF1f086bA0F9
Hachage : 23a69c1653e4ebbb619b0b2cb8a9bad49892a8b9...</pre>
</div>
</div>
<div class="sect4">
<h5 id="EIP55_error">Détection d&#8217;une erreur dans une adresse encodée EIP-55</h5>
<div class="paragraph">
<p>Maintenant, regardons comment les adresses EIP-55 nous aideront à trouver une erreur. Supposons que nous ayons imprimé une adresse Ethereum, qui est codée EIP-55 :</p>
</div>
<div id="correct_address" class="listingblock">
<div class="content">
<pre>0x001d3F1ef827552Ae1114027BD3ECF1f086bA0F9</pre>
</div>
</div>
<div class="paragraph">
<p>Faisons maintenant une erreur fondamentale en lisant cette adresse. Le caractère avant le dernier est un <code>F</code> majuscule. Pour cet exemple, supposons que nous interprétions cela comme un <code>E</code> majuscule et que nous tapions l&#8217;adresse suivante (incorrecte) dans notre portefeuille :</p>
</div>
<div id="incorrect_address" class="listingblock">
<div class="content">
<pre>0x001d3F1ef827552Ae1114027BD3ECF1f086bA0E9</pre>
</div>
</div>
<div class="paragraph">
<p>Heureusement, notre portefeuille est conforme à la norme EIP-55 ! Il remarque les majuscules mixtes et tente de valider l&#8217;adresse. Il le convertit en minuscules et calcule le hachage de la somme de contrôle :</p>
</div>
<div id="hash_demo" class="listingblock">
<div class="content">
<pre>Keccak256("001d3f1ef827552ae1114027bd3ecf1f086ba0e9") =
5429b5d9460122fb4b11af9cb88b7bb76d8928862e0a57d46dd18dd8e08a6927</pre>
</div>
</div>
<div class="paragraph">
<p>Comme vous pouvez le voir, même si l&#8217;adresse n&#8217;a changé que d&#8217;un caractère (en fait, un seul bit, car <code>e</code> et <code>f</code> sont séparés d&#8217;un bit), le hachage de l&#8217;adresse a radicalement changé. C&#8217;est la propriété des fonctions de hachage qui les rend si utiles pour les sommes de contrôle !</p>
</div>
<div class="paragraph">
<p>Maintenant, alignons les deux et vérifions la capitalisation :</p>
</div>
<div id="incorrect_capitalization" class="listingblock">
<div class="content">
<pre>001d3F1ef827552Ae1114027BD3ECF1f086bA0E9
5429b5d9460122fb4b11af9cb88b7bb76d892886...</pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est tout faux! Plusieurs des caractères alphabétiques sont mal capitalisés. N&#8217;oubliez pas que la capitalisation est l&#8217;encodage de la somme de contrôle <em>correcte</em>.</p>
</div>
<div class="paragraph">
<p>La casse de l&#8217;adresse que nous avons saisie ne correspond pas à la somme de contrôle que nous venons de calculer, ce qui signifie que quelque chose a changé dans l&#8217;adresse et qu&#8217;une erreur a été <span class="keep-together">introduite</span>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keys-addresses-conclusions">Conclusion</h3>
<div class="paragraph">
<p>Dans ce chapitre, nous avons fourni un bref aperçu de la cryptographie à clé publique et nous nous sommes concentrés sur l&#8217;utilisation des clés publiques et privées dans Ethereum et l&#8217;utilisation d&#8217;outils cryptographiques, tels que les fonctions de hachage, dans la création et la vérification des adresses Ethereum. Nous avons également examiné les signatures numériques et comment elles peuvent démontrer la propriété d&#8217;une clé privée sans révéler cette clé privée. Dans <a href="#wallets_chapter">[wallets_chapter]</a>, nous allons rassembler ces idées et voir comment les portefeuilles peuvent être utilisés pour gérer les collections de clés.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-05-15 04:32:05 -0400
</div>
</div>
</body>
</html>