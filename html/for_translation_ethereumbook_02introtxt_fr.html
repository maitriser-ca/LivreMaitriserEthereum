<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Les bases d&#8217;Ethereum</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article data-line-1">
<div id="header">
</div>
<div id="content">
<div class="sect1 data-line-2">
<h2 id="intro_chapter">Les bases d&#8217;Ethereum</h2>
<div class="sectionbody">
<div class="paragraph data-line-4">
<p>Dans ce chapitre nous allons commencer à explorer Ethereum, apprendre comment utiliser un portefeuille, comment créer des transactions, et aussi comment lancer un smart contract.</p>
</div>
<div class="sect2 data-line-7">
<h3 id="ether_units">Unité monétaire Ether</h3>
<div class="paragraph data-line-9">
<p>L&#8217;unité monétaire d&#8217;Ethereum s&#8217;appelle <em>ether</em>, appelée également ETH ou par le symbole &#926; (De la lettre Grecque "Xi" qui ressemble a une version stylisée de la lettre E) ou, moins souvent ,  &#9830;: par exemple, 1 ether, ou 1 ETH, ou &#926;1, ou &#9830;1.'</p>
</div>
<div class="admonitionblock tip data-line-12">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-13">
<p>Utilisez le caractère Unicode U+039E pour &#926; et U+2666 pour &#9830;.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-16">
<p>L&#8217;Ether est divisible en petites unités, jusqu&#8217;á la plus petite unité possible appelée <em>wei</em>. Un Ether est égal à 1 trillion de wei (1 * 10<sup>18</sup> ou 1,000,000,000,000,000,000). Vous pouvez aussi entendre les gens parler de la monnaie "Ethereum", mais c&#8217;est une erreur commune. Ethereum est le système, Ether est la monnaie.</p>
</div>
<div class="paragraph data-line-18">
<p>La valeur de l&#8217;ether est toujours représentée dans Ethereum comme un entier non signé (non négatif), libellé en wei. Lorsque vous transférez 1 ether, la transaction encode 1000000000000000000 wei comme valeur.</p>
</div>
<div class="paragraph data-line-20">
<p>Les différentes dénominations de l&#8217;Ether ont aussi bien un nom scientifique, utilisant le Système International d&#8217;Unités (<em>SI</em>), qu&#8217;une appellation commune qui rend hommage aux grands esprits de l&#8217;informatique et de la cryptographie.</p>
</div>
<div class="paragraph data-line-22">
<p>&lt; 1 &gt; montre les différentes unités, noms communs, et leurs appellations tirées du  SI. En accord avec leur valeur, le tableau détaille toutes les équivalents en wei (première ligne), avec l&#8217;ether correspondant à 10^18 wei à la 7ème ligne.</p>
</div>
<table id="ether_denominations" class="tableblock frame-all grid-all stretch data-line-27">
<caption class="title">Table 1. Dénominations et noms des valeurs de l&#8217;Ether</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Valeur (en wei)</th>
<th class="tableblock halign-left valign-top">Exposant</th>
<th class="tableblock halign-left valign-top">Nom commun</th>
<th class="tableblock halign-left valign-top">Nom SI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wei</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wei</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>3</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Babbage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kilowei ou femtoether</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>6</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lovelace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Megawei ou picoether</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>9</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shannon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gigawei ou nanoether</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>12</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Szabo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microether ou micro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000,000,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>15</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finney</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milliether ou milli</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1,000,000,000,000,000,000</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>10<sup>18</sup></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Ether</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Ether</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000,000,000,000,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>21</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kiloether</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000,000,000,000,000,000,000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>24</sup></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Megaether</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-41">
<h3 id="choosing_eth_wallet">Choisir un portefeuille Ethereum</h3>
<div class="paragraph data-line-43">
<p>Le terme "portefeuille" a plusieurs significations, bien qu&#8217;elles soient toutes liées et expriment plus ou moins la même chose. Nous allons utiliser le terme de "portefeuille" pour parler d&#8217;une application qui vous permet de gérer votre compte Ethereum. En résumé, un portefeuille Ethereum est une porte d&#8217;entrée vers le système Ethereum. Celui-ci garde vos clés et peut créer et envoyer des transactions en votre nom. Choisir un portefeuille Ethereum peut être difficile car il existe différentes options avec des fonctionnalités et designs variés. Certains sont plus adaptés aux débutants et d&#8217;autres à des utilisateurs confirmés. La plateforme Ethereum elle-même est en constante amélioration, et les "meilleurs" portefeuilles sont ceux qui s&#8217;adaptent aux changements dus à l&#8217;amélioration de la plateforme.</p>
</div>
<div class="paragraph data-line-45">
<p>Mais ne vous inquiétez pas ! Si vous choisissez un portefeuille et que vous n&#8217;aimez pas son fonctionnement&#x2014;ou si vous l&#8217;aimiez au début mais voulez essayer quelque-chose d&#8217;autre ensuite&#x2014;vous pouvez changer de portefeuille assez facilement. Tout ce que vous avez à faire c&#8217;est de faire une transaction qui envoie vos fonds de l&#8217;ancien à votre nouveau portefeuille, ou bien exporter vos clés privées et les importer dans le nouveau.</p>
</div>
<div class="paragraph data-line-47">
<p>Nous avons sélectionné trois différents types de portefeuille à utiliser comme exemples à travers notre livre: un portefeuille sur mobile, un portefeuille sur ordinateur et un portefeuille sur navigateur Internet. Nous avons choisi ces trois portefeuilles parce qu&#8217;ils représentent un large éventail de niveaux de complexité et de fonctionnalités. Cependant, la sélection de ces portefeuilles n&#8217;est pas un gage de leur qualité ou de leur sécurité. Ce sont simplement un bon point de départ pour des démonstrations et tests.</p>
</div>
<div class="paragraph data-line-49">
<p>Gardez en tête que pour que le portefeuille fonctionne, il doit avoir accès à vos clés privées, par conséquent il est vital que vous ne téléchargiez et utilisiez que des applications portefeuille de sources en qui vous avez confiance. Heureusement, en général, plus une application portefeuille est populaire, plus elle est censée être sûre. Néanmoins, une bonne pratique est d&#8217;éviter de mettre tous ses œufs dans le même panier et avoir plusieurs comptes Ethereum répartis sur deux portefeuilles.</p>
</div>
<div class="paragraph data-line-51">
<p>Les propositions suivantes sont de bons portefeuilles pour débuter:</p>
</div>
<div class="dlist data-line-53">
<dl>
<dt class="hdlist1">MetaMask</dt>
<dd>
<p>MetaMask est un portefeuille via extension de navigateur qui fonctionne sur votre navigateur (Chrome, Firefox, Opera ou Brave Browser). Il est facile à utiliser et pratique pour les tests, car il est capable de se connecter à un grand nombre de nœuds Ethereum et de blockchains de test. MetaMask est un portefeuille Web.</p>
</dd>
</dl>
</div>
<div class="paragraph data-line-55">
<p>Jaxx est un portefeuille multiplateforme et multidevise qui s&#8217;exécute sur divers systèmes d&#8217;exploitation, notamment Android, iOS, Windows, macOS et Linux. C&#8217;est souvent un bon choix pour les nouveaux utilisateurs car il est conçu pour la simplicité et la facilité d&#8217;utilisation. Jaxx est soit un portefeuille sur mobile, soit un portefeuille sur ordinateur, selon où vous l&#8217;installez.</p>
</div>
<div class="dlist data-line-57">
<dl>
<dt class="hdlist1">MyEtherWallet (MEW)</dt>
<dd>
<p>MyEtherWallet est un portefeuille Internet qui fonctionne sur n&#8217;importe quel navigateur. Il possède plusieurs fonctionnalités sophistiquées que nous explorerons dans nos exemples.</p>
</dd>
</dl>
</div>
<div class="paragraph data-line-59">
<p>Emerald Wallet est conçu pour fonctionner avec la blockchain Ethereum Clasic, mais est également compatible avec les autres blockchains Ethereum-compatibles. C&#8217;est une application de bureau open source et fonctionne sur Windows, macOS et Linux. Emerald Wallet peut faire tourner un nœud complet ou se connecter à un nœud distant public, en mode léger. C&#8217;est également une application compagnon pour exécuter des opérations de la ligne de commande.</p>
</div>
<div class="paragraph data-line-61">
<p>Nous allons commencer par installer MetaMask sur un ordinateur, mais d&#8217;abord nous allons brièvement expliquer le contrôle et la gestion des clés.</p>
</div>
</div>
<div class="sect2 data-line-64">
<h3 id="control_responsibility">Contrôle et responsabilité</h3>
<div class="paragraph data-line-66">
<p>Les blockchains publiques comme Ethereum sont importantes car elles opèrent comme un système décentralisé. Ce qui veut dire beaucoup de choses, mais un élément crucial est que chaque utilisateur d&#8217;Ethereum peut et devrait contrôler ses clés privées, qui permettent l&#8217;accès aux fonds et contrats intelligents (smart contract). Nous appelons souvent la combinaison d&#8217;accès aux fonds et au contrats un "compte" ou un "portefeuille". Ces termes sont assez complexes dans leur usage, nous verrons cela en détails plus tard. Cependant, un principe fondamental est aussi simple qu&#8217;une clé privée est égale à un compte. Certains utilisateurs choisissent de délaisser le contrôle de leurs clés privées en utilisant une entité tierce, telle qu&#8217;une plateforme d&#8217;échange en ligne. Dans ce livre, nous vous apprendrons comment avoir le contrôle et la gestion sur ces clés privées.</p>
</div>
<div class="paragraph data-line-68">
<p>Le contrôle implique de grandes responsabilités. Si vous perdez vos clés, vous perdez l&#8217;accès à vos fonds et à vos contrats. Personne ne peut vous aider à récupérer l&#8217;accès, vos fonds seront bloqués à tout jamais. Voici quelques astuces pour vous aidez à gérer cette responsabilité:</p>
</div>
<div class="paragraph data-line-70">
<p>*Soyez vigilants sur la sécurité. Utilisez des techniques utilisées et testées.</p>
</div>
<div class="paragraph data-line-72">
<p>Le plus important, le compte (par exemple plus grande est la valeur des fond contrôlés, ou plus l&#8217;accessibilité à un contrat intelligent est importante), le plus de mesures de sécurité doivent être prises.</p>
</div>
<div class="paragraph data-line-74">
<p>*La plus grande mesure de sécurité est garantie par un appareil non connecté, mais ce niveau de sécurité n&#8217;est pas requis pour tous les comptes.</p>
</div>
<div class="paragraph data-line-76">
<p>*Ne jamais conserver ses clés privées sur un seul support, en particulier numérique. Heureusement, aujourd&#8217;hui la plupart des interfaces ne vous laisse pas voir directement la clé privée.</p>
</div>
<div class="paragraph data-line-78">
<p>Les clés privées peuvent être conservées sous forme chiffrée, comme un fichier "keystore" numérique. En étant chiffré, ces fichiers requièrent un mot de passe pour être déverrouillés. Quand on vous demande de choisir un mot de passe, prenez-en un robuste (par exemple long et aléatoire), faites en une sauvegarde et ne le partagez pas. Si vous n&#8217;avez pas de gestionnaire de mots de passe, écrivez-le et rangez le dans un endroit sécurisé et secret. Pour accéder à votre compte, vous auriez besoin du fichier "keeystore" et du mot de passe.</p>
</div>
<div class="paragraph data-line-80">
<p>*Ne sauvegardez pas aucun mot de passe sur un document numérique, photos numériques, captures d&#8217;écran, stockages en ligne, PDF chiffrés, etc. Une fois encore, soyez vigilants sur la sécurité. Utilisez un gestionnaire de mots de passe ou un stylo et un papier.</p>
</div>
<div class="paragraph data-line-82">
<p>*Quand on vous demande de sauvegardez votre clé sous forme de phrase mnémonique, utilisez un stylo et un papier pour avoir une sauvegarde physique. Ne remettez pas cette tâche "à plus tard", vous ne le ferez pas. Ces sauvegardes peuvent être utilisées pour reconstruire votre clé privée si jamais vous perdez toutes les données sauvegardées sur votre système, ou si vous oubliez ou perdez votre mot de passe. Cependant, elles peuvent aussi être utilisées par un attaquant pour récupérer votre clé privée, donc ne la sauvegardez jamais sous format numérique, et gardez une copie physique rangée de manière sûre dans un tiroir sûr et verrouillé.</p>
</div>
<div class="paragraph data-line-84">
<p>*Avant de transférer n&#8217;importe quelle somme importante (en particulier vers de nouvelles adresses), faites d&#8217;abord une petite transaction de test (par exemple, moins d&#8217;une valeur d'1€) et attendez la confirmation de la réception.</p>
</div>
<div class="paragraph data-line-86">
<p>*Quand vous créer un nouveau compte, commencez par envoyer un petit montant à la nouvelle adresse. Une fois la transaction reçue, essayez d&#8217;envoyer à nouveau depuis ce compte. La création d&#8217;un compte peut mal se faire pour plusieurs raisons, et si c&#8217;est le cas, il vaut mieux s&#8217;en apercevoir avec une perte minime. Si les tests sont concluants, vous pouvez envoyer tout dessus.</p>
</div>
<div class="paragraph data-line-88">
<p>*Les block explorers publics sont un bon moyen de vérifier soi-même si une transaction a été acceptée par le réseau. Cependant, cet usage a un mauvais impact sur votre vie privée, du fait que vous révélez votre adresse aux block explorers, qui peuvent vous tracer.</p>
</div>
<div class="paragraph data-line-90">
<p>*N&#8217;envoyez pas d&#8217;argent à une des adresses affichées dans ce livre. Les clés privées sont détaillées dans cet ouvrage et quelqu&#8217;un récupèrera aussitôt l&#8217;argent.</p>
</div>
<div class="paragraph data-line-92">
<p>Maintenant que nous avons couvert quelques bonnes pratiques éléments au sujet de la gestion de vos clés et de la sécurité, nous allons travailler sur comment utiliser MetaMask:</p>
</div>
</div>
<div class="sect2 data-line-95">
<h3 id="installing_MetaMask">Premiers pas avec MetaMask</h3>
<div class="paragraph data-line-97">
<p>Ouvrez le navigateur Google Chrome et accédez à <a href="https://chrome.google.com/webstore/category/extensions" class="undefined" data-href="https://chrome.google.com/webstore/category/extensions">https://chrome.google.com/webstore/category/extensions</a>.</p>
</div>
<div class="paragraph data-line-99">
<p>Recherchez "MetaMask" et cliquez sur le logo représentant un renard. Vous devriez avoir un résultat comme ce qui est montré ici &lt;1&gt;.</p>
</div>
<div id="metamask_download" class="paragraph data-line-102">
<p>*La page détaillée de l&#8217;extension Chrome MetaMask
image::images/metamask_download.png["Page de détail MetaMask"]</p>
</div>
<div class="paragraph data-line-105">
<p>Il est important de vérifier que vous téléchargez la vraie extension MetaMask, en raison de certains individus capables de proposer des extensions frauduleuses qui contournent les filtres de Google. La vraie extension:</p>
</div>
<div class="paragraph data-line-107">
<p>*Montre l&#8217;ID dans la barre d&#8217;adresse "nkbihfbeogaeaoehlefnkodbefgpgknn"
*Est proposé ici <a href="https://metamask.io" class="undefined" data-href="https://metamask.io">https://metamask.io</a>
*A plus de 1500 avis
*A plus de 1 000 000 d&#8217;utilisateurs</p>
</div>
<div class="paragraph data-line-112">
<p>Une fois que vous avez trouvé la bonne extension, cliquez sur "Ajouté à Chrome" pour la télécharger</p>
</div>
<div class="sect3 data-line-115">
<h4 id="using_MetaMask">Création d&#8217;un portefeuille</h4>
<div class="paragraph data-line-117">
<p>Une fois que MetaMask est installé vous devriez voir un nouvel icone (une tête de renard) dans la barre d&#8217;outils de votre navigateur. Cliquez dessus pour commencer. Vous devez accepter les termes et conditions et ensuite créer votre nouveau portefeuille Ethereum en entrant un mot de passe (voir &lt;2&gt;).</p>
</div>
<div id="metamask_password" class="paragraph data-line-120">
<p>*La page du mot de passe sur l&#8217;extension Chrome MetaMask
image::images/metamask_password.png["Page de mot de passe MetaMask"]</p>
</div>
<div class="admonitionblock tip data-line-124">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-125">
<p>Le mot de passe contrôle l&#8217;accès à MetaMask, ainsi il ne peut pas être utilisé par toute personne ayant accès à votre navigateur.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-128">
<p>Une fois votre mot de passe défini, MetaMask va générer un portefeuille pour vous et vous montrer une phrase mnémonique de 12 mots en anglais (see &lt;1&gt;). Ces mots peuvent être utilisés sur n&#8217;importe quel portefeuille compatible pour retrouver l&#8217;accès à vos fonds si quelque chose arrivait à votre MetaMask ou votre ordinateur. Vous n&#8217;avez pas besoin de votre mot de passe pour la récupération; les 12 mots sont suffisants.</p>
</div>
<div class="admonitionblock tip data-line-131">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-132">
<p>Sauvegardez votre phrase mnémonique (12 mots) sur un papier, deux fois. Rangez vos deux papiers dans deux endroits sécurisés différents, tels qu&#8217;un coffre ignifuge, un tiroir fermé à clé, ou un coffre-fort. Considérez ces papiers comme du liquide ayant la même valeur que ce que vous avez sur votre portefeuille Ethereum. N&#8217;importe qui ayant accès à ces mots peut accéder et voler votre argent.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="metamask_mnemonic" class="imageblock data-line-137">
<div class="content">
<img src="images/metamask_mnemonic.png" alt="Page mnémonique MetaMask">
</div>
<div class="title">Figure 1. La phrase mnémonique de votre portefeuille créée par MetaMask</div>
</div>
<div class="paragraph data-line-139">
<p>Une fois que vous avez confirmé que vous avez rangé votre phrase mnémonique dans un endroit sécurisé, vous pourrez voir les détails de votre compte Ethereum, comme montré dans &lt;1&gt;.</p>
</div>
<div id="metamask_account" class="imageblock data-line-143">
<div class="content">
<img src="images/metamask_account.png" alt="Page du compte MetaMask">
</div>
<div class="title">Figure 2. Votre compte Ethereum dans MetaMask</div>
</div>
<div class="paragraph data-line-145">
<p>La page de votre compte montre le nom de votre compte ("Account 1" par défaut), une addresse Ethereum (0x9E713... dans cet exemple), et un icone coloré vous aidant à distinguer ce compte des autres. En haut de la page du compte, vous pouvez voir quel réseau Ethereum vous êtes en train d&#8217;utiliser ("Main Network" sur l&#8217;exemple).</p>
</div>
<div class="paragraph data-line-147">
<p>Félicitations ! Vous avez configuré votre premier portefeuille Ethereum.</p>
</div>
</div>
<div class="sect3 data-line-150">
<h4 id="switching_networks">Commutation de réseaux</h4>
<div class="paragraph data-line-152">
<p>Comme vous pouvez le voir sur la page de votre compte Ethereum, vous pouvez choisir entre plusieurs réseaux Ethereum. Par défaut, MetaMask essaiera de se connecter au réseau principal. Les autres choix sont des réseaux de test publics, n&#8217;importe noeud Ethereum de votre choix, ou nœudsde blockchains privées sur votre ordinateur (localhost):</p>
</div>
<div class="dlist data-line-154">
<dl>
<dt class="hdlist1">Main Ethereum Network</dt>
<dd>
<p>La blockchain principale publique Ethereum. Vrai ETH, vraie valeur, et vraies conséquences.</p>
</dd>
<dt class="hdlist1">Ropsten Test Network</dt>
<dd>
<p>Blockchain et réseau Ethereum de test publics. ETH n&#8217;a pas de valeur sur ce réseau.</p>
</dd>
<dt class="hdlist1">Kovan Test Network</dt>
<dd>
<p>Blockchain et réseau Ethereum de test publics utilisant le protocole de consens Aura avec la preuve d&#8217;authorité (signature fédérée). ETH n&#8217;a pas de valeur sur ce réseau. Le réseau de test Kovan est seulement supporté par Parity. Les autres clients Ethereum utilisent le protocole de consensus Clique, qui fut proposé plus tard, avec preuve d&#8217;autorité&#x2013;based vérification.</p>
</dd>
<dt class="hdlist1">Rinkeby Test Network</dt>
<dd>
<p>Blockchain et réseau Ethereum de test publics, utilisant le protocole de consensus Clique avec preuve d&#8217;autorité (signature fédérée). ETH n&#8217;a pas de valeur sur ce réseau.</p>
</dd>
<dt class="hdlist1">Localhost 8545</dt>
<dd>
<p>Se connecter à un nœud tournant sur le même ordinateur que le navigateur. Le nœud peut faire partie de n&#8217;importe quel blockchain (principale ou de test), ou réseau de test privé.</p>
</dd>
<dt class="hdlist1">Custom RPC</dt>
<dd>
<p>Permet de connecter MetaMask à n&#8217;importe quel nœud avec une interface Geth compatible Remote Procedure Call (RPC). Le nœud peut faire partie d&#8217;une blockchain publique ou privée.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note data-line-167">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph data-line-168">
<p>Votre portefeuille MetaMask utilise la même clé privée et la même adresse Ethereum sur tous les réseaux auxquels il se connecte. Cependant, le solde de votre adresse Ethereum sera différent sur chaque réseau Ethereum. Vos clés peuvent permettre d&#8217;accéder à de l&#8217;ether et des contracts sur Ropsten, par exemple, mais pas sur le réseau principal.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3 data-line-172">
<h4 id="getting_test_eth">Obtenir des Ethers de test</h4>
<div class="paragraph data-line-174">
<p>Votre première tâche est d&#8217;avoir des fonds sur votre portefeuille. Vous ne feriez pas cela sur le réseau principal parce que le vrai ether coûte de l&#8217;argent et requiert un minimum d&#8217;expérience. Maintenant, vous allez remplir votre portefeuille avec quelques ether de test.</p>
</div>
<div class="paragraph data-line-176">
<p>Passez MetaMask sur le réeau de test Ropsten. Cliquez sur Déposer, puis cliquez sur Ropsten Test Faucet. MetaMask ouvrira une nouvelle page web, comme montré sur  &lt;1&gt;.</p>
</div>
<div id="metamask_ropsten_faucet" class="imageblock data-line-180">
<div class="content">
<img src="images/metamask_ropsten_faucet.png" alt="MetaMask Ropsten Test Faucet">
</div>
<div class="title">Figure 3. MetaMask Ropsten Test Faucet</div>
</div>
<div class="paragraph data-line-182">
<p>Vous avez peut-être remarqué que la page web contient déjà l&#8217;adresse Ethereum de votre portefeuille MetaMask. MetaMask intègre les pages web compatibles Ethereum avec votre portefeuille MetaMask et peut "voir"" les adresses Ethereum sur la page web, vous permettant, par exemple, d&#8217;envoyer un paiement à un site marchant affichant une adresse Ethereum. MetaMask peut remplir la page web avec votre propre adresse de portefeuille comme adresse de destinataire si la page web le demande. Sur cette page, l&#8217;application de faucet demande à MetaMask une adresse de portefeuille sur laquelle envoyer des ether de test.</p>
</div>
<div class="paragraph data-line-184">
<p>Cliquez sur le bouton vert "demander 1 ether au faucet. Vous verrez un identifiant (ID) de transaction apparaitre en bas de la page. L&#8217;application de fauceet a crée une transaction&#x2014;un paiement pour vous. L&#8217;identifiant de transaction ressemble à:</p>
</div>
<div id="faucet_tx_id" class="listingblock data-line-187">
<div class="content">
<pre>0x7c7ad5aaea6474adccf6f5c5d6abed11b70a350fbc6f9590109e099568090c57</pre>
</div>
</div>
<div class="paragraph data-line-191">
<p>Dans quelques secondes, la nouvelle transaction sera minée par les mineurs du réseau Ropsten et le solde de votre portefeuille MetaMask affichera 1 ETH. Cliquez sur l&#8217;ID de transaction et votre navigateur vous amènera sur un explorateur de blockchain (block explorer) qui est un site vous permettant de voir et d&#8217;explorer les blocs, adresses, et transactions. MetaMask utilise <a href="https://etherscan.io/" data-href="https://etherscan.io/">Etherscan block explorer</a>, un des explorateurs les plus populaires. La transaction contenant le paiement du Faucet Test Ropste est montrée ici: &lt;1&gt;.</p>
</div>
<div id="ropsten_block_explorer" class="imageblock data-line-195">
<div class="content">
<img src="images/ropsten_block_explorer.png" alt="Etherscan Ropsten Block Explorer">
</div>
<div class="title">Figure 4. Explorateur de blockchain Etherscan Ropsten</div>
</div>
<div class="paragraph data-line-197">
<p>La transaction a été enregistrée sur la blockchain Ropsten et peut être consultée à n&#8217;importe quel moment par n&#8217;importe qui, simplement en cherchant l&#8217;ID de transaction, ou en cliquant sur le lien: <a href="http://bit.ly/2Q860Wk" data-href="http://bit.ly/2Q860Wk">visiting the link</a>.</p>
</div>
<div class="paragraph data-line-199">
<p>Essayez d&#8217;aller sur ce lien, ou entrez le hash de transaction sur ropsten.etherscan.io pour la voir par vous-même.</p>
</div>
</div>
<div class="sect3 data-line-202">
<h4 id="sending_eth_MetaMask">Envoyer des Ether à partir de MetaMask</h4>
<div class="paragraph data-line-204">
<p> Une fois votre premier ether reçu du Faucet Test Ropsten, vous pouvez essayer d&#8217;envoyer de l&#8217;ether en essayant d&#8217;en renvoyer au faucet. Comme vous pouvez le voir sur la page du Faucet Test Ropsten, il est possible de "donner" 1 ETH au Faucet. Cette option est disponible, comme ça une fois vos tests terminés, vous pouvez renvoyer le reste de vos ethers, pour qu&#8217;une autre personne puisse les utiliser ensuite. Bien que les ethers de test n&#8217;ont pas de valeur, certaines personnes les gardent, ce qui rend l&#8217;utilisation des réseaux de test pour tout le monde plus difficile. Garder les ethers de test est mal vu !</p>
</div>
<div class="paragraph data-line-206">
<p>Heureusement, nous ne gardons pas ces ethers. Cliquez sur le bouton orange "1 ether" pour dire à MetaMask de créer une transaction qui paie au faucet 1 ether. MetaMask préparera la transaction et une fenêtre apparaitra avec la confirmation, comme montrée sur  &lt;1&gt;.</p>
</div>
<div id="send_to_faucet" class="imageblock data-line-211">
<div class="content">
<img src="images/send_to_faucet.png" alt="Sending 1 ether to the faucet">
</div>
<div class="title">Figure 5. Envoyé 1 ether au faucet</div>
</div>
<div class="paragraph data-line-213">
<p>Oups ! Vous avez sûrement remarqué que nous n&#8217;avions pas effectué la transaction&#x2014;. MetaMask dit que votre solde est insuffisant. Au premier coup d&#8217;oeil c&#8217;est surprenant: nous avons 1 ETH, nous voulons envoyer 1 ETH, donc pourquoi MetaMask nous dit que nous n&#8217;avons pas assez ?</p>
</div>
<div class="paragraph data-line-215">
<p>La réponse est à cause du coût du gaz. Chaque transaction Ethereum nécessite le paiement de frais, qui sont récupérés par les mineurs pour valider la transaction. Les frais sur Ethereum sont affichés dans une monnaie virtuelle appelée le gaz. Vous payez le gaz avec de l&#8217;ether, lors de la transaction.</p>
</div>
<div class="admonitionblock note data-line-218">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph data-line-219">
<p>Des frais son également demandés sur les réseaux de test. Sans les frais, un réseau de test fonctionnera différemment du réseau principal, le rendant inadapté pour une plateforme de test. Les frais protègent également les réseaux de test des attaques DoS et des contrats peu élaborés (par exemple les boucles infinies), plus qu&#8217;ils ne protègent le réseau principal.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-222">
<p>Quand vous envoyez la transaction, MetaMask calcule le prix moyen de gaz des récentes  transactions validées à 3 gwei, qui signifie gigawei. Le wei est la plus petite unité de l&#8217;ether, comme nous en avions parlé dans le &lt;2&gt;. La limite de gaz est définie comme étant le coût d&#8217;une transaction normale, qui est de 21 000 unités de gaz. Par conséquent, le montant maximal d&#8217;ETH que vous pouvez dépenser est 3 * 21 000 gwei = 63 000 gwei = 0.000063 ETH. (Ayant conscience que le prix moyen du gaz peut fluctuer, étant majoritairement fixé par les mineurs. Nous verrons dans le dernier chapitre comment vous pouvez augmenter ou réduire la limite de gaz pour vous assurer que votre transaction soit priorisée si besoin).</p>
</div>
<div class="paragraph data-line-224">
<p>Tout ça pour dire: faire une transaction d'1 ETH coûte 1.000063 ETH. MetaMask arrondit à 1 ETH lorsqu&#8217;il affiche le total, mais le montant réel dont vous avez besoin est de 1.000063 ETH et vous avez juste 1 ETH. Cliquez sur Rejetez pour annuler cette transaction.</p>
</div>
<div class="paragraph data-line-226">
<p>Récupérons plus d&#8217;ether de test ! Cliquez sur le bouton vert "demander 1 ether au faucet" à nouveau et attendez quelques secondes. Ne vous inquiétez pas, le faucet doit avoir plein d&#8217;ether et vous en donnera si vous demandez.</p>
</div>
<div class="paragraph data-line-228">
<p>Une fois que vous avez un solde de 2 ethers, vous pouvez essayer à nouveau. Cette fois, quand vous cliquez sur le bouton orange de donation "1 ether", vous avez un solde suffisant pout finaliser la transaction. Cliquez sur Soumettre quand MetaMask affiche la fenêtre de paiement. Après ça, vous devriez voir un solde de 0.999937 ETH parce que vous avez envoyé 1 ETH au faucet avec  0.000063 ETH de gaz.</p>
</div>
</div>
<div class="sect3 data-line-231">
<h4 id="explore_tx_history">Exploration de l&#8217;historique des transactions d&#8217;une adresse</h4>
<div class="paragraph data-line-233">
<p>Dès à présent vous êtes devenu un expert dans l&#8217;utilisation de MetaMask pour envoyer et recevoir des ethers de test. Votre portefeuille a reçu au moins deux paiements et envoyé un. Vous pouvez voir toutes les transactions en utilisant l&#8217;explorateur de block  ropsten.etherscan.io. Vous pouvez aussi bien copier l&#8217;adresse de votre portefeuille dans la barre de recherche du site, ou ouvrir la page via MetaMask. A côté de l&#8217;icone de votre compte dans MetaMask, vous avez un bouton montrant trois points. Cliquiez dessus pour voir le menu d&#8217;options relatifs à votre compte. (see &lt;1&gt;).</p>
</div>
<div id="metamask_account_context_menu" class="imageblock data-line-237">
<div class="content">
<img src="images/metamask_account_context_menu.png" alt="Menu contextuel du compte MetaMask">
</div>
<div class="title">Figure 6. Menu contextuel du compte MetaMask</div>
</div>
<div class="paragraph data-line-239">
<p>Sélectionnez "Voir le compte sur Etherscan" pour ouvrir une page web dans l&#8217;explorateur de blocks montrant l&#8217;historique de transactions de votre compte, comme montré dans &lt;1&gt;.</p>
</div>
<div id="block_explorer_account_history" class="paragraph data-line-242">
<p>Historique de transactions de l&#8217;adresse sur Etherscan
image::images/block_explorer_account_history.png["Address Transaction History on Etherscan"]</p>
</div>
<div class="paragraph data-line-245">
<p>Vous pouvez voir l&#8217;historique complet de transactions de votre adresse Ethereum. Cela montre toutes les transactions enregistrées sur la blockchain Ropsten où votre adresse est l&#8217;envoyeur et le destinataire. Cliquez sur certaines de ces transactions pour voir plus de détails.</p>
</div>
<div class="paragraph data-line-247">
<p>Vous pouvez explorer l&#8217;historique de transactions de n&#8217;importe quelle adresse. Jetez un oeil à l&#8217;historique de transactions du Faucet Test Ropsten (indice: c&#8217;est l&#8217;adresse de l&#8217;envoyeur de votre plus vieux paiement sur votre adresse). Vous pouvez voir tous les ethers de test envoyés depuis le faucet vers vous et d&#8217;autres adresses. Vous allez vite être perdus dans un labyrinthe de données interconnectées. Les blockchains publiques contiennent une énorme quantité d&#8217;information, toutes pouvant être explorées via programmation, comme nous le verrons par la suite. examples.</p>
</div>
</div>
</div>
<div class="sect2 data-line-250">
<h3 id="intro_world_computer">Introduction à l&#8217;Ordinateur Universel</h3>
<div class="paragraph data-line-252">
<p>Vous avez maintenant crée un portefeuille, envoyé et reçu des ethers. Jusqu&#8217;à maintenant, nous avons considéré Ethereum comme une  monnaie. En réalité, la fonction de cryptomonnaie découle de la fonction d&#8217;Ethereum comme ordinateur universel décentralisé. Ether est défini pour être utilisé pour payer le fonctionnement de contrats intelligents (smart contracts) qui sont des programmes qui tournent sur un ordinateur émulé appelé Machine Virtuelle Ethereum (MVE ou EVM en anglais).</p>
</div>
<div class="paragraph data-line-254">
<p>La MVE est une entité mondiale, signifiant qu&#8217;elle fonctionne comme si c&#8217;était un seul ordinateur mondial fonctionnait n&#8217;importe où. Chaque nœud sur le réseau Ethereum exécute une copie locale de la MVE pour valider l&#8217;exécution des contrats, tandis que la blockchain Ethereum enregistre le changement d&#8217;état de cet ordinateur mondial étant donné qu&#8217;il exécute des transactions et des contrats intelligents. Nous parlerons de ceci plus en détails au  &lt;1&gt;.</p>
</div>
</div>
<div class="sect2 data-line-257">
<h3 id="EOA_contracts">Contrats et Comptes Détenus en Externe</h3>
<div class="paragraph data-line-259">
<p>Le type de compte que vous avez crée dans le portefeuille MetaMask est appelé un compte détenu en externe (CDE). Les comptes détenus en externe sont ceux qui possèdent une clé privée; avoir les clés privées signifie avoir le contrôle des fonds et des contrats. Maintenant, vous devenez probablement qu&#8217;il existe un autre type de contrat. Cet autre type est le compte de contrat. Un compte de contrat contient le code d&#8217;un contrat intelligent, ce qu&#8217;un simple CDE ne peut avoir. De plus, un compte de contrat n&#8217;a pas de clé privée. A la place, il est détenu (et contrôlé) par la logique du code du contrat intelligent: le programme enregistré sur la blockchain Ethereum surle compte du contrat et est exécuté par la MVE.</p>
</div>
<div class="paragraph data-line-261">
<p>Les contrats ont des adresses, tout comme les CDE. Les contrats peuvent aussi envoyer et recevoir de l&#8217;ether, tout comme les CDE. Cependant, quand l&#8217;adresse de destination est l&#8217;adresse d&#8217;un contrat, cela déclenche l&#8217;exécution de ce contrat sur la MVE, utilisant la transaction, et les données de cette transaction, comme une valeur d&#8217;entrée. En plus de l&#8217;ether, la transaction contient des données indiquant quelle fonction spécifique dans le contrat à exécuter et quels paramètres sont à transmettre à cette fonction. De cette façon, les transactions peuvent appeler des fonctions de contrats.</p>
</div>
<div class="paragraph data-line-263">
<p>Notez que parce qu&#8217;un compte de contrat n&#8217;a pas de clé privée, il ne peut pas initier une transaction. Seuls les CDE peuvent initier une transaction, mais les contrats peuvent réagir à ces transactions en appelant d&#8217;autres contrats, débouchant sur de complexes exécutions. Une utilisation typique est un CDE envoyant une demande de transaction à un contrat de portefeuille multi-signature d&#8217;envoyer quelques ETH à une autre adresse. Un schéma typique de programmation d&#8217;une DApp est d&#8217;avoir un contrat A appelant un contrat B afin de maintenir un statut commun parmi les utilisateurs du contrat A.</p>
</div>
<div class="paragraph data-line-265">
<p>Dans les prochaines parties, nous allons écrire notre premier contrat intelligent. Vous allez ensuite apprendre à créer, alimenter et utiliser ce contrat avec votre portefeuille MetaMask et des ethers sur le réseau de test Ropsten.</p>
</div>
</div>
<div class="sect2 data-line-268">
<h3 id="simple_contract_example">Un contrat simple: un Ether de test Faucet</h3>
<div class="paragraph data-line-270">
<p>Ethereum possède différents langages de haut-niveau tous pouvant servir à écrire un contrat ou produire du code pour la MVE. Vous pouvez lire parmi les plus importants et intéressants à  &lt;1&gt;. Un langage de haut-niveau est de loin le meilleur choix pour programmer un contrat intelligent: Solidity. Solidity a été créé par le Dr. Gavin Wood, co-auteur de ce livre, et il est devenu le langage le plus utilisé sur Ethereum (et ailleurs). Nous utilisons tous Solidity pour créer notre premier contrat.</p>
</div>
<div class="paragraph data-line-272">
<p>Pour notre premier exemple (&lt;1&gt;), nous allons écrire un contrat qui contrôle un faucet. Vous avez déjà utilisé un faucet pour obtenir des ethers sur le réseau de test Ropsten. Un faucet est particulièrement simple: il donne de l&#8217;ether à n&#8217;importe quelle adresse qui le demande, et peut être rechargé périodiquement. Vous pouvez définir un faucet comme un portefeuille contrôlé par un humain ou un serveur web.</p>
</div>
<div id="solidity_faucet_example" class="exampleblock data-line-276">
<div class="title">Example 1. Faucet.sol: Un contrat Solidity créant un faucet</div>
<div class="content">
<div class="listingblock data-line-278">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">// SPDX-License-Identifier: CC-BY-SA-4.0

// Version of Solidity compiler this program was written for
pragma solidity 0.6.4;

// Our first contract is a faucet!
contract Faucet {
    // Accept any incoming amount
    receive() external payable {}

    // Give out ether to anyone who asks
    function withdraw(uint withdraw_amount) public {
        // Limit withdrawal amount
        require(withdraw_amount &lt;= 100000000000000000);

        // Send the amount to the address that requested it
        msg.sender.transfer(withdraw_amount);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note data-line-284">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph data-line-285">
<p>Vous trouverez dans ce livre tous les exemples de code dan le fichier de code à l&#8217;adresse: <a href="https://github.com/ethereumbook/ethereumbook/" data-href="https://github.com/ethereumbook/ethereumbook/">the book&#8217;s GitHub repository</a>. En particulier, notre contrat 'Faucet.sol' se trouve:</p>
</div>
<div class="listingblock data-line-287">
<div class="content">
<pre>code/Solidity/Faucet.sol</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-292">
<p>C&#8217;est un contrat très simple, aussi simple que possible. C&#8217;est également un contrat défectueux, qui met en avant un certain nombre de mauvaises pratiques et de brèches de sécurité. Nous apprendrons à étudier ces erreurs dans les prochaines parties. Pour l&#8217;instant, étudions qu&#8217;est-ce que le contrat fait et comment il fonctionne, ligne par ligne. Vous allons vous apercevoir que beaucoup d&#8217;éléments dans Solidity sont similaires à d&#8217;autres langages, tels que JavaScript, Java ou C++.</p>
</div>
<div class="paragraph data-line-294">
<p>La première ligne est un commentaire:</p>
</div>
<div id="comment" class="listingblock data-line-298">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">// Notre premier contrat est un faucet!</code></pre>
</div>
</div>
<div class="paragraph data-line-302">
<p>Les commentaires se destinent aux humains et ne sont pas inclus dans le code exécuté par la MVE. Habituellement, nous les inscrivons sur la ligne précédant le code que nous souhaitons expliquer, ou parfois sur la même ligne. Les commentaires commencent avec deux slash tel que "//". Tout ce qui se trouve entre le premier slash jusqu&#8217;à la fin de la ligne est considéré comme une ligne vide et est ignoré.</p>
</div>
<div class="paragraph data-line-304">
<p>La ligne suivante est où notre contrat commence:</p>
</div>
<div id="contract_definition" class="listingblock data-line-308">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">contract Faucet {</code></pre>
</div>
</div>
<div class="paragraph data-line-312">
<p>Cette ligne déclare l&#8217;objet "contract", similaire à la déclarations de "class" dans d&#8217;autres langages orientés objet. Le code du contrat inclut tout ce qui se trouve dans les accolades "{}", définissant ainsi l&#8217;étendue du contrat, tout comme les accolades sont utilisées dans d&#8217;autres langages de programmation.</p>
</div>
<div class="paragraph data-line-314">
<p>Ensuite, nous déclarons la premier fonction du contrat "Faucet"</p>
</div>
<div id="withdraw_function" class="listingblock data-line-318">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">function withdraw(uint withdraw_amount) public {</code></pre>
</div>
</div>
<div class="paragraph data-line-322">
<p>La fonction est appelée "retrait" (withdraw en anglais) et elle contient comme argument un entier non-signé ("uint") appelé "withdraw_amount". Elle est déclarée comme fonction publique, ce qui signifie qu&#8217;elle peut être appelée par d&#8217;autres contrats. La définition de la fonction est contenue entre deux accolades. La première partie de la fonction "withdraw" définit la limite de retraits:</p>
</div>
<div id="withdraw_limit" class="listingblock data-line-326">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">require(withdraw_amount &lt;= 100000000000000000);</code></pre>
</div>
</div>
<div class="paragraph data-line-330">
<p>La fonction utilise l&#8217;intégrateur Solidity ("built-in" en anglais) "require" comme pré-requis, qui vérifie que le montant retiré ''withdraw_amount' est plus petit ou égal à  100,000,000,000,000,000 wei, qui est la plus petite unité de l&#8217;ether (voir à &lt;1&gt;) et équivaut à 0,1 ether. Si la fonction "withdraw" est appelée avec un montant "withdraw_amount" plus que ce montant, la fonction "require" arrêtera l&#8217;exécution du contrat et provoquera une erreur "execption". Notez que les déclarations doivent être achevées d&#8217;un point-virgule.</p>
</div>
<div class="paragraph data-line-332">
<p>Cette partie du contrat est la clé de voûte du faucet. Elle contrôle les flux sortants du contrat en fixant une limite de retraits. C&#8217;est un contrôle très simple qui peut vous donner un aperçu du pouvoir de la programmation sur la blockchain: un programme décentralisé contrôlant de l&#8217;argent.</p>
</div>
<div class="paragraph data-line-334">
<p>Ensuite vient la vraie fonction retrait:</p>
</div>
<div id="withdraw_command" class="listingblock data-line-338">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">msg.sender.transfer(withdraw_amount);</code></pre>
</div>
</div>
<div class="paragraph data-line-342">
<p>Plusieurs points intéressants se produisent à ce moment. L&#8217;objet message "msg" est une des valeurs d&#8217;entrée à laquelle les contrats peuvent accéder. Cela représente la transaction qui déclenche l&#8217;exécution du contrat. L&#8217;attribut "envoyeur" ("sender" en anglais) est l&#8217;adresse de l&#8217;envoyeur de la transaction.  La fonction "transférer" ("transfer en anglais) est une fonction intégratrice qui transfère les ethers du contrat vers l&#8217;adresse de l&#8217;envoyeur. En lisant à l&#8217;envers, cela signfie qu&#8217;il y a un "transfert" à "l&#8217;envoyeur" du "message" qui a déclenché l&#8217;exécution du contrat. La fonction "transfer" prend en seul argument le montant. Nous passons sur la valeur "withdraw_amount" qui est le paramètre de la fonction "withdraw" décrit quelques lignes plus haut.</p>
</div>
<div class="paragraph data-line-344">
<p>La prochaine ligne est une accolade de clôture, qui indique la fin de la définition de la fonction "withdraw".</p>
</div>
<div class="paragraph data-line-346">
<p>Ensuitre, nous déclarons une fonction de plus:</p>
</div>
<div id="fallback_function" class="listingblock data-line-350">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">function () external payable {}</code></pre>
</div>
</div>
<div class="paragraph data-line-354">
<p>This function is a so-called <em>fallback</em> or <em>default</em> function, which is called if the transaction that triggered the contract didn&#8217;t name any of the declared functions in the contract, or any function at all, or didn&#8217;t contain data. Contracts can have one such default function (without a name) and it is usually the one that receives ether. That&#8217;s why it is defined as an external and payable function, which means it can accept ether into the contract. It doesn&#8217;t do anything, other than accept the ether, as indicated by the empty definition in the curly braces (<code>{}</code>). If we make a transaction that sends ether to the contract address, as if it were a wallet, this function will handle it.</p>
</div>
<div class="paragraph data-line-356">
<p>Juste en-dessous de notre fonction par défaut se trouve l&#8217;accolade de fermeture, qui ferme la définition du contrat "Faucet". C&#8217;est tout !</p>
</div>
</div>
<div class="sect2 data-line-359">
<h3 id="compile_faucet_contract">Compilation du contrat Faucet</h3>
<div class="paragraph data-line-361">
<p>Now that we have our first example contract, we need to use a Solidity compiler to convert the Solidity code into EVM bytecode so it can be executed by the EVM on the blockchain itself.</p>
</div>
<div class="paragraph data-line-363">
<p>The Solidity compiler comes as a standalone executable, as part of various frameworks, and bundled in Integrated Development Environments (IDEs). To keep things simple, we will use one of the more popular IDEs, called <em>Remix</em>.</p>
</div>
<div class="paragraph data-line-365">
<p>Use your Chrome browser (with the MetaMask wallet you installed earlier) to navigate to the Remix IDE at <a href="https://remix.ethereum.org" class="undefined" data-href="https://remix.ethereum.org">https://remix.ethereum.org</a>.</p>
</div>
<div class="paragraph data-line-367">
<p>When you first load Remix, it will start with a sample contract called <em>ballot.sol</em>. We don&#8217;t need that, so close it by clicking the x on the corner of the tab, as seen in <a href="#remix_close_tab">Close the default example tab</a>.</p>
</div>
<div id="remix_close_tab" class="imageblock data-line-371">
<div class="content">
<img src="images/remix_close_tab.png" alt="Close the default example tab">
</div>
<div class="title">Figure 7. Close the default example tab</div>
</div>
<div class="paragraph data-line-373">
<p>Maintenant, ajoutez un nouvel onglet en cliquant sur le signe plus sur la barre d&#8217;outils en haut à gauche, comme montré dans &lt;1&gt;. Nommez le nouveau fichier "Faucet.sol"</p>
</div>
<div id="remix_toolbar" class="paragraph data-line-376">
<p>*Cliquez sur le signe plus pour ouvrir un nouvel onglet
image::images/remix_toolbar.png["Click the plus sign to open a new tab"]</p>
</div>
<div class="paragraph data-line-379">
<p>Une fois que vous avez le nouvel onglet ouvert, copier et coller le code depuis l&#8217;exemple "Faucet.sol", comme montré dans &lt;1&gt;.</p>
</div>
<div id="remix_faucet_load" class="imageblock data-line-383">
<div class="content">
<img src="images/remix_faucet_load.png" alt="Copy the Faucet example code into the new tab">
</div>
<div class="title">Figure 8. Copy the Faucet example code into the new tab</div>
</div>
<div class="paragraph data-line-385">
<p>Once you have loaded the <em>Faucet.sol</em> contract into the Remix IDE, the IDE will automatically compile the code. If all goes well, you will see a green box with "Faucet" in it appear on the right, under the Compile tab, confirming the successful compilation (see <a href="#remix_compile">Remix successfully compiles the Faucet.sol contract</a>).</p>
</div>
<div id="remix_compile" class="imageblock data-line-389">
<div class="content">
<img src="images/remix_compile.png" alt="">
</div>
<div class="title">Figure 9. Remix successfully compiles the Faucet.sol contract</div>
</div>
<div class="paragraph data-line-391">
<p>If something goes wrong, the most likely problem is that the Remix IDE is using a version of the Solidity compiler that is different from 0.5.12. In that case, our pragma directive will prevent <em>Faucet.sol</em> from compiling. To change the compiler version, go to the Settings tab, set the version to 0.5.12, and try again.</p>
</div>
<div class="paragraph data-line-393">
<p>The Solidity compiler has now compiled our <em>Faucet.sol</em> into EVM bytecode. If you are curious, the bytecode looks like this:</p>
</div>
<div id="faucet_bytecode" class="listingblock data-line-396">
<div class="content">
<pre>PUSH1 0x60 PUSH1 0x40 MSTORE CALLVALUE ISZERO PUSH2 0xF JUMPI PUSH1 0x0 DUP1
REVERT JUMPDEST PUSH1 0xE5 DUP1 PUSH2 0x1D PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN
STOP PUSH1 0x60 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT PUSH1 0x3F JUMPI
PUSH1 0x0 CALLDATALOAD PUSH29
0x100000000000000000000000000000000000000000000000000000000
SWAP1 DIV PUSH4 0xFFFFFFFF AND DUP1 PUSH4 0x2E1A7D4D EQ PUSH1 0x41 JUMPI
JUMPDEST STOP JUMPDEST CALLVALUE ISZERO PUSH1 0x4B JUMPI PUSH1 0x0 DUP1 REVERT
JUMPDEST PUSH1 0x5F PUSH1 0x4 DUP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1
SWAP2 SWAP1 POP POP PUSH1 0x61 JUMP JUMPDEST STOP JUMPDEST PUSH8
0x16345785D8A0000 DUP2 GT ISZERO ISZERO ISZERO PUSH1 0x77 JUMPI PUSH1 0x0 DUP1
REVERT JUMPDEST CALLER PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND
PUSH2 0x8FC DUP3 SWAP1 DUP2 ISZERO MUL SWAP1 PUSH1 0x40 MLOAD PUSH1 0x0 PUSH1
0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP6 DUP9 DUP9 CALL SWAP4 POP POP POP POP ISZERO
ISZERO PUSH1 0xB6 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP JUMP STOP LOG1 PUSH6
0x627A7A723058 KECCAK256 PUSH9 0x13D1EA839A4438EF75 GASLIMIT CALLVALUE LOG4 0x5f
PUSH24 0x7541F409787592C988A079407FB28B4AD000290000000000</pre>
</div>
</div>
<div class="paragraph data-line-415">
<p>Aren&#8217;t you glad you are using a high-level language like Solidity instead of programming directly in EVM bytecode? Me too!</p>
</div>
</div>
<div class="sect2 data-line-418">
<h3 id="create_contract">Création du contrat sur la blockchain</h3>
<div class="paragraph data-line-420">
<p>So, we have a contract. We&#8217;ve compiled it into bytecode. Now, we need to "register" the contract on the Ethereum blockchain. We will be using the Ropsten testnet to test our contract, so that&#8217;s the blockchain we want to submit it to.</p>
</div>
<div class="paragraph data-line-422">
<p>Registering a contract on the blockchain involves creating a special transaction whose destination is the address 0x0000000000000000000000000000000000000000, also known as the <em>zero address</em>. The zero address is a special address that tells the Ethereum blockchain that you want to register a contract. Fortunately, the Remix IDE will handle all of that for you and send the transaction to MetaMask.</p>
</div>
<div class="paragraph data-line-424">
<p>First, switch to the Run tab and select Injected Web3 in the Environment drop-down selection box. This connects the Remix IDE to the MetaMask wallet, and through MetaMask to the Ropsten test network. Once you do that, you can see Ropsten under Environment. Also, in the Account selection box it shows the address of your wallet (see <a href="#remix_run">Remix IDE Run tab, with Injected Web3 environment selected</a>).</p>
</div>
<div id="remix_run" class="imageblock data-line-428">
<div class="content">
<img src="images/remix_run.png" alt="Remix IDE Run tab, with Injected Web3 environment selected">
</div>
<div class="title">Figure 10. Remix IDE Run tab, with Injected Web3 environment selected</div>
</div>
<div class="paragraph data-line-430">
<p>Right below the Run settings you just confirmed is the Faucet contract, ready to be created. Click on the Deploy button shown in <a href="#remix_run">Remix IDE Run tab, with Injected Web3 environment selected</a>.</p>
</div>
<div class="paragraph data-line-432">
<p>Remix will construct the special "creation" transaction and MetaMask will ask you to approve it, as shown in <a href="#remix_metamask_create">MetaMask showing the contract creation transaction</a>. You&#8217;ll notice the contract creation transaction has no ether in it, but it has 262 bytes of data (the compiled contract) and will consume 10 gwei in gas. Click Submit to approve it.</p>
</div>
<div id="remix_metamask_create" class="imageblock data-line-436">
<div class="content">
<img src="images/remix_metamask_create.png" alt="MetaMask showing the contract creation transaction">
</div>
<div class="title">Figure 11. MetaMask showing the contract creation transaction</div>
</div>
<div class="paragraph data-line-438">
<p>Now you have to wait. It will take about 15 to 30 seconds for the contract to be mined on Ropsten. Remix won&#8217;t appear to be doing much, but be patient.</p>
</div>
<div class="paragraph data-line-440">
<p>Once the contract is created, it appears at the bottom of the Run tab (see <a href="#remix_contract_interact">The Faucet contract is ALIVE!</a>).</p>
</div>
<div id="remix_contract_interact" class="imageblock data-line-444">
<div class="content">
<img src="images/remix_contract_interact.png" alt="The Faucet contract is ALIVE!">
</div>
<div class="title">Figure 12. The Faucet contract is ALIVE!</div>
</div>
<div class="paragraph data-line-446">
<p>Notice that the Faucet contract now has an address of its own: Remix shows it as &#x201c;Faucet at 0x72e&#8230;&#8203;c7829&#x201d; (although your address, the random letters and numbers, will be different). The small clipboard symbol to the right allows you to copy the contract address to your clipboard. We will use that in the next section.</p>
</div>
</div>
<div class="sect2 data-line-449">
<h3 id="interact_contract">Interagir avec le contrat</h3>
<div class="paragraph data-line-451">
<p>Let&#8217;s recap what we&#8217;ve learned so far: Ethereum contracts are programs that control money, which run inside a virtual machine called the EVM. They are created by a special transaction that submits their bytecode to be recorded on the blockchain. Once they are created on the blockchain, they have an Ethereum address, just like wallets. Anytime someone sends a transaction to a contract address it causes the contract to run in the EVM, with the transaction as its input. Transactions sent to <span class="keep-together">contract</span> addresses may have ether or data or both. If they contain ether, it is "deposited" to the contract balance. If they contain data, the data can specify a named function in the contract and call it, passing arguments to the function.</p>
</div>
<div class="sect3 data-line-454">
<h4 id="view_contract_address">Affichage de l&#8217;adresse du contrat dans un explorateur de blocs</h4>
<div class="paragraph data-line-456">
<p>We now have a contract recorded on the blockchain, and we can see it has an Ethereum address. Let&#8217;s check it out in the <em>ropsten.etherscan.io</em> block explorer and see what a contract looks like. In the Remix IDE, copy the address of the contract by clicking the clipboard icon next to its name (see <a href="#remix_contract_address">Copy the contract address from Remix</a>).</p>
</div>
<div id="remix_contract_address" class="imageblock data-line-460">
<div class="content">
<img src="images/remix_contract_address.png" alt="Copy the contract address from Remix">
</div>
<div class="title">Figure 13. Copy the contract address from Remix</div>
</div>
<div class="paragraph data-line-462">
<p>Keep Remix open; we&#8217;ll come back to it again later. Now, navigate your browser to <em>ropsten.etherscan.io</em> and paste the address into the search box. You should see the contract&#8217;s Ethereum address history, as shown in <a href="#etherscan_contract_address">View the Faucet contract address in the Etherscan block explorer</a>.</p>
</div>
<div id="etherscan_contract_address" class="imageblock data-line-466">
<div class="content">
<img src="images/etherscan_contract_address.png" alt="View the Faucet contract address in the etherscan block explorer">
</div>
<div class="title">Figure 14. View the Faucet contract address in the Etherscan block explorer</div>
</div>
</div>
<div class="sect3 data-line-469">
<h4 id="fund_contract">Financement du contrat</h4>
<div class="paragraph data-line-471">
<p>For now, the contract only has one transaction in its history: the contract creation transaction. As you can see, the contract also has no ether (zero balance). That&#8217;s because we didn&#8217;t send any ether to the contract in the creation transaction, even though we could have.</p>
</div>
<div class="paragraph data-line-473">
<p>Our faucet needs funds! Our first project will be to use MetaMask to send ether to the contract. You should still have the address of the contract in your clipboard (if not, copy it again from Remix). Open MetaMask, and send 1 ether to it, exactly as you would to any other Ethereum address (see <a href="#metamask_send_to_contract">Send 1 ether to the contract address</a>).</p>
</div>
<div id="metamask_send_to_contract" class="imageblock data-line-477">
<div class="content">
<img src="images/metamask_send_to_contract.png" alt="">
</div>
<div class="title">Figure 15. Send 1 ether to the contract address</div>
</div>
<div class="paragraph data-line-479">
<p>In a minute, if you reload the Etherscan block explorer, it will show another transaction to the contract address and an updated balance of 1 ether.</p>
</div>
<div class="paragraph data-line-481">
<p>Remember the unnamed default external payable function in our <em>Faucet.sol</em> code? It looked like this:</p>
</div>
<div id="fallback_function_review" class="listingblock data-line-485">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">function () external payable {}</code></pre>
</div>
</div>
<div class="paragraph data-line-489">
<p>When you sent a transaction to the contract address, with no data specifying which function to call, it called this default function. Because we declared it as payable, it accepted and deposited the 1 ether into the contract&#8217;s account balance. Your transaction caused the contract to run in the EVM, updating its balance. You have funded your faucet!</p>
</div>
</div>
<div class="sect3 data-line-492">
<h4 id="withdraw_from_contract">Résiliation de notre contrat</h4>
<div class="paragraph data-line-494">
<p>Next, let&#8217;s withdraw some funds from the faucet. To withdraw, we have to construct a transaction that calls the withdraw function and passes a withdraw_amount argument to it. To keep things simple for now, Remix will construct that transaction for us and MetaMask will present it for our approval.</p>
</div>
<div class="paragraph data-line-496">
<p>Return to the Remix tab and look at the contract on the Run tab. You should see a orange box labeled withdraw with a field entry labeled uint256 withdraw_amount (see <a href="#remix_contract_withdraw">The withdraw function of Faucet.sol, in Remix</a>).</p>
</div>
<div id="remix_contract_withdraw" class="imageblock data-line-500">
<div class="content">
<img src="images/remix_contract_interact.png" alt="The withdraw function of Faucet.sol, in Remix">
</div>
<div class="title">Figure 16. The withdraw function of Faucet.sol, in Remix</div>
</div>
<div class="paragraph data-line-502">
<p>This is the Remix interface to the contract. It allows us to construct transactions that call the functions defined in the contract. We will enter a withdraw_amount and click the withdraw button to generate the transaction.</p>
</div>
<div class="paragraph data-line-504">
<p>First, let&#8217;s figure out the withdraw_amount. We want to try and withdraw 0.1 ether, which is the maximum amount allowed by our contract. Remember that all currency values in Ethereum are denominated in wei internally, and our withdraw function expects the withdraw_amount to be denominated in wei too. The amount we want is 0.1 ether, which is 100,000,000,000,000,000 wei (a 1 followed by 17 zeros).</p>
</div>
<div class="admonitionblock tip data-line-509">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-510">
<p>Due to a limitation in JavaScript, a number as large as 10^17 cannot be processed by Remix. Instead, we enclose it in double quotes, to allow Remix to receive it as a string and manipulate it as a BigNumber. If we don&#8217;t enclose it in quotes, the Remix IDE will fail to process it and display "Error encoding arguments: Error: Assertion failed."</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-513">
<p>Type "100000000000000000" (with the quotes) into the withdraw_amount box and click on the withdraw button (see <a href="#remix_withdraw">Click "withdraw" in Remix to create a withdrawal transaction</a>).</p>
</div>
<div id="remix_withdraw" class="imageblock data-line-517">
<div class="content">
<img src="images/remix_withdraw.png" alt="">
</div>
<div class="title">Figure 17. Click "withdraw" in Remix to create a withdrawal transaction</div>
</div>
<div class="paragraph data-line-519">
<p>MetaMask will pop up a transaction window for you to approve. Click Confirm to send your withdrawal call to the contract (see <a href="#metamask_withdraw">MetaMask transaction to call the withdraw function</a>).</p>
</div>
<div id="metamask_withdraw" class="imageblock data-line-523">
<div class="content">
<img src="images/metamask_withdraw.png" alt="MetaMask transaction to call the withdraw function">
</div>
<div class="title">Figure 18. MetaMask transaction to call the withdraw function</div>
</div>
<div class="paragraph data-line-525">
<p>Wait a minute and then reload the Etherscan block explorer to see the transaction reflected in the Faucet contract address history (see <a href="#etherscan_withdrawal_tx">Etherscan shows the transaction calling the withdraw function</a>).</p>
</div>
<div id="etherscan_withdrawal_tx" class="imageblock data-line-529">
<div class="content">
<img src="images/etherscan_withdrawal_tx.png" alt="Etherscan shows the transaction calling the withdraw function">
</div>
<div class="title">Figure 19. Etherscan shows the transaction calling the withdraw function</div>
</div>
<div class="paragraph data-line-532">
<p>We now see a new transaction with the contract address as the destination and a value of 0 ether. The contract balance has changed and is now 0.9 ether because it sent us 0.1 ether as requested. But we don&#8217;t see an "OUT" transaction in the <em>contract address history</em>.</p>
</div>
<div class="paragraph data-line-534">
<p>Where&#8217;s the outgoing withdrawal? A new tab has appeared on the contract&#8217;s address history page, named Internal Transactions. Because the 0.1 ether transfer originated from the contract code, it is an internal transaction (also called a <em>message</em>). Click on that tab to see it (see <a href="#etherscan_withdrawal_internal">Etherscan shows the internal transaction transferring ether out from the contract</a>).</p>
</div>
<div class="paragraph data-line-537">
<p>This "internal transaction" was sent by the contract in this line of code (from the <code><span class="keep-together">withdraw</span></code> function in <em>Faucet.sol</em>):</p>
</div>
<div id="withdraw_command_review" class="listingblock data-line-541">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">msg.sender.transfer(withdraw_amount);</code></pre>
</div>
</div>
<div class="paragraph data-line-545">
<p>To recap: you sent a transaction from your MetaMask wallet that contained data instructions to call the withdraw function with a withdraw_amount argument of 0.1 ether. That transaction caused the contract to run inside the EVM. As the EVM ran the Faucet contract&#8217;s withdraw function, first it called the require function and validated that the requested amount was less than or equal to the maximum allowed withdrawal of 0.1 ether. Then it called the transfer function to send you the ether. Running the transfer function generated an internal transaction that deposited 0.1 ether into your wallet address, from the contract&#8217;s balance. That&#8217;s the one shown on the Internal Transactions tab in Etherscan.</p>
</div>
<div id="etherscan_withdrawal_internal" class="imageblock data-line-549">
<div class="content">
<img src="images/etherscan_withdrawal_internal.png" alt="Etherscan shows the internal transaction transferring ether out from the contract">
</div>
<div class="title">Figure 20. Etherscan shows the internal transaction transferring ether out from the contract</div>
</div>
</div>
</div>
<div class="sect2 data-line-552">
<h3 id="intro_conclusion">Conclusions</h3>
<div class="paragraph data-line-554">
<p>In this chapter, you set up a wallet using MetaMask and funded it using a faucet on the Ropsten test network. You received ether into your wallet&#8217;s Ethereum address, then you sent ether to the faucet&#8217;s Ethereum address.</p>
</div>
<div class="paragraph data-line-556">
<p>Next, you wrote a faucet contract in Solidity. You used the Remix IDE to compile the contract into EVM bytecode, then used Remix to form a transaction and created the Faucet contract on the Ropsten blockchain. Once created, the Faucet contract had an Ethereum address, and you sent it some ether. Finally, you constructed a transaction to call the withdraw function and successfully asked for 0.1 ether. The contract checked the request and sent you 0.1 ether with an internal transaction.</p>
</div>
<div class="paragraph data-line-558">
<p>It may not seem like much, but you&#8217;ve just successfully interacted with software that controls money on a decentralized world computer.</p>
</div>
<div class="paragraph data-line-560">
<p>We will do a lot more smart contract programming in <a href="#smart_contracts_chapter">[smart_contracts_chapter]</a> and learn about best practices and security considerations in <a href="#smart_contract_security">[smart_contract_security]</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-03-26 00:57:55 -0400
</div>
</div>
</body>
</html>