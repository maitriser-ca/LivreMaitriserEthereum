<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Applications décentralisées (DApps)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article data-line-1">
<div id="header">
</div>
<div id="content">
<div class="sect1 data-line-2">
<h2 id="decentralized_applications_chap">Applications décentralisées (DApps)</h2>
<div class="sectionbody">
<div class="paragraph data-line-4">
<p>Dans ce chapitre, nous allons explorer le monde des <em>applications décentralisées</em>, ou <em>DApps</em>. Dès les premiers jours d&#39;Ethereum, la vision des fondateurs était bien plus large que les &quot;contrats intelligents&quot; :  rien de moins que de réinventer le web et de créer un nouveau monde de DApps, appelé à juste titre <em>web3</em>. Les contrats intelligents sont un moyen de décentraliser la logique de contrôle et les fonctions de paiement des applications. Les DApps Web3 consistent à décentraliser tous les autres aspects d&#39;une application : stockage, messagerie, nommage, etc. (voir <a href="#image_web3_suite">Web3 : Un web décentralisé utilisant des contrats intelligents et des technologies P2P</a>).</p>
</div>
<div id="image_web3_suite" class="imageblock data-line-8">
<div class="content">
<img src="images/web3suite.png" alt="&quot;Web3 : un Web décentralisé utilisant des contrats intelligents et les technologies P2P&quot;">
</div>
<div class="title">Figure 1. Web3 : Un web décentralisé utilisant des contrats intelligents et des technologies P2P</div>
</div>
<div class="admonitionblock warning data-line-11">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph data-line-12">
<p>Alors que les &quot;applications décentralisées&quot; sont une vision audacieuse de l&#39;avenir, le terme &quot;DApp&quot; est souvent appliqué à tout contrat intelligent avec une interface Web. Certaines de ces soi-disant DApps sont des applications hautement centralisées (CApps ?). Méfiez-vous des faux DApps !</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-15">
<p>Dans ce chapitre, nous allons développer et déployer un exemple de DApp : une plateforme d&#39;enchères. Vous pouvez trouver le code source dans le référentiel du livre sous <a href="http://bit.ly/2DcmjyA" data-href="http://bit.ly/2DcmjyA"><em>code/auction_dapp</em></a>. Nous examinerons chaque aspect d&#39;une application d&#39;enchères et verrons comment nous pouvons décentraliser l&#39;application autant que possible. Cependant, examinons d&#39;abord de plus près les caractéristiques et les avantages déterminants des DApps.</p>
</div>
<div class="sect2 data-line-18">
<h3 id="what_is_a_dapp_sec">Qu&#39;est-ce qu&#39;un DApp ?</h3>
<div class="paragraph data-line-20">
<p>Une DApp est une application qui est principalement ou entièrement décentralisée.</p>
</div>
<div class="paragraph data-line-22">
<p>Considérez tous les aspects possibles d&#39;une application qui peut être décentralisée :</p>
</div>
<div class="ulist data-line-24">
<ul>
<li class="data-line-24">
<p>Logiciel dorsale (logique d&#39;application)</p>
</li>
<li class="data-line-25">
<p>Logiciel frontal</p>
</li>
<li class="data-line-26">
<p>Stockage de données</p>
</li>
<li class="data-line-27">
<p>Communications par messages</p>
</li>
<li class="data-line-28">
<p>Résolution de nom</p>
</li>
</ul>
</div>
<div class="paragraph data-line-30">
<p>Chacun d&#39;eux peut être quelque peu centralisé ou quelque peu décentralisé. Par exemple, une interface peut être développée comme une application Web qui s&#39;exécute sur un serveur centralisé ou comme une application mobile qui s&#39;exécute sur votre appareil. Le backend et le stockage peuvent être sur des serveurs privés et des bases de données propriétaires, ou vous pouvez utiliser un contrat intelligent et un stockage P2P.</p>
</div>
<div class="paragraph data-line-32">
<p>La création d&#39;une DApp présente de nombreux avantages qu&#39;une architecture centralisée typique ne peut pas offrir :</p>
</div>
<div class="dlist data-line-34">
<dl>
<dt class="hdlist1">Élasticité</dt>
<dd>
<p>Parce que la logique d&#8217;affaire est contrôlée par un contrat intelligent, une DApp dorsale sera entièrement distribué et géré sur une plateforme chaîne de blocs. Contrairement à une application déployée sur un serveur centralisé, une DApp n&#39;aura pas de temps d&#39;arrêt et restera disponible tant que la plateforme fonctionnera.</p>
</dd>
<dt class="hdlist1">Transparence</dt>
<dd>
<p>La nature en chaîne d&#39;une DApp permet à chacun d&#39;inspecter le code et d&#39;être plus sûr de sa fonction. Toute interaction avec la DApp sera stockée pour toujours dans la chaîne de blocs.</p>
</dd>
<dt class="hdlist1">Résistance à la censure</dt>
<dd>
<p>Tant qu&#39;un utilisateur a accès à un nœud Ethereum (en exécutant un si nécessaire), l&#39;utilisateur pourra toujours interagir avec une DApp sans interférence de tout contrôle centralisé. Aucun fournisseur de services, ni même le propriétaire du contrat intelligent, ne peut modifier le code une fois qu&#39;il est déployé sur le réseau.</p>
</dd>
</dl>
</div>
<div class="paragraph data-line-43">
<p>Dans l&#39;écosystème Ethereum tel qu&#39;il se présente aujourd&#39;hui, il existe très peu d&#39;applications véritablement décentralisées, la plupart reposant encore sur des services et des serveurs centralisés pour une partie de leur fonctionnement. À l&#39;avenir, nous prévoyons qu&#39;il sera possible pour chaque partie de n&#39;importe quelle DApp d&#39;être exploitée de manière entièrement décentralisée.</p>
</div>
<div class="sect3 data-line-46">
<h4 id="blockchain_smart_contracts_sec">Environnement dorsale (contrat intelligent)</h4>
<div class="paragraph data-line-48">
<p>Dans une DApp, les contrats intelligents sont utilisés pour stocker la logique applicative (code de programme) et l&#39;état correspondant de votre application. Vous pouvez penser à un contrat intelligent remplaçant un composant côté serveur (alias &quot;backend&quot; ou "environnement dorsale") dans une application standard. C&#39;est une simplification excessive, bien sûr. L&#39;une des principales différences est que tout calcul exécuté dans un contrat intelligent est très coûteux et doit donc être réduit au minimum. Il est donc important d&#39;identifier les aspects de l&#39;application qui nécessitent une plateforme d&#39;exécution fiable et décentralisée.</p>
</div>
<div class="paragraph data-line-50">
<p>Les contrats intelligents Ethereum vous permettent de créer des architectures dans lesquelles un réseau de contrats intelligents appellent et transmettent des données entre eux, lisant et écrivant leurs propres variables d&#39;état au fur et à mesure, leur complexité n&#39;étant limitée que par la limite de gaz de bloc. Après avoir déployé votre contrat intelligent, votre logique applicative pourrait bien être utilisée par de nombreux autres développeurs à l&#39;avenir.</p>
</div>
<div class="paragraph data-line-52">
<p>L&#39;une des principales considérations de la conception d&#39;une architecture de contrat intelligent est l&#39;impossibilité de modifier le code d&#39;un contrat intelligent une fois qu&#39;il est déployé. Il peut être supprimé s&#39;il est programmé avec un opcode SELFDESTRUCT accessible, mais à part une suppression complète, le code ne peut en aucun cas être modifié.</p>
</div>
<div class="paragraph data-line-54">
<p>La deuxième considération majeure de la conception de l&#39;architecture des contrats intelligents est la taille du DApp. Un très gros contrat intelligent monolithique peut coûter beaucoup de gaz à déployer et à utiliser. Par conséquent, certaines applications peuvent choisir d&#39;avoir un calcul hors chaîne et une source de données externe. Gardez à l&#39;esprit, cependant, que le fait que la logique applicative de base de la DApp dépende de données externes (par exemple, à partir d&#39;un serveur centralisé) signifie que vos utilisateurs devront faire confiance à ces ressources externes.</p>
</div>
</div>
<div class="sect3 data-line-57">
<h4 id="front_end_web_ui_cec">Environnement frontale (interface utilisateur Web)</h4>
<div class="paragraph data-line-59">
<p>Contrairement à la logique applicative de la DApp, qui nécessite qu&#39;un développeur comprenne l&#39;EVM et de nouveaux langages comme Solidity, l&#39;interface côté client d&#39;une DApp peut utiliser des technologies web standards (HTML, CSS, JavaScript, etc.). Cela permet à un développeur Web traditionnel d&#39;utiliser des outils, des bibliothèques et des frameworks familiers. Les interactions avec Ethereum, telles que la signature de messages, l&#39;envoi de transactions et la gestion de clés, sont souvent effectuées via le navigateur Web, via une extension telle que MetaMask (voir <a href="#intro_chapter">[intro_chapter]</a>).</p>
</div>
<div class="paragraph data-line-61">
<p>Bien qu&#39;il soit également possible de créer un DApp mobile, il existe actuellement peu de ressources pour aider à créer des interfaces DApp mobiles, principalement en raison du manque de clients mobiles pouvant servir de client léger avec une fonctionnalité de gestion des clés.</p>
</div>
<div class="paragraph data-line-63">
<p>L&#39;interface est généralement liée à Ethereum via la bibliothèque JavaScript <em>web3.js</em>, qui est fournie avec les ressources de l&#39;interface et servie à un navigateur par un serveur Web.</p>
</div>
</div>
<div class="sect3 data-line-66">
<h4 id="data_storage_sec">Stockage de données</h4>
<div class="paragraph data-line-68">
<p>En raison des coûts élevés du gaz et de la limite de gaz actuellement faible, les contrats intelligents ne sont pas bien adapté au stockage ou au traitement de grandes quantités de données. Par conséquent, la plupart des DApps utilisent des services de stockage de données hors chaîne, ce qui signifie qu&#39;ils stockent les données volumineuses de la chaîne Ethereum, sur une plate-forme de stockage de données. Cette plate-forme de stockage de données peut être centralisée (par exemple, une base de données cloud typique), ou les données peuvent être décentralisées, stockées sur une plate-forme P2P telle que l&#39;IPFS ou la propre plate-forme Swarm d&#39;Ethereum.</p>
</div>
<div class="paragraph data-line-70">
<p>Le stockage P2P décentralisé est idéal pour stocker et distribuer de gros actifs statiques tels que des images, des vidéos et les ressources de l&#39;interface Web frontale de l&#39;application (HTML, CSS, JavaScript, etc.). Nous examinerons ensuite quelques-unes des options.</p>
</div>
<div class="sect4 data-line-73">
<h5 id="ipfs_sec">IPFS</h5>
<div class="paragraph data-line-75">
<p>Le <em>Inter-Planetary File System</em> (IPFS) est un système de stockage décentralisé adressable par le contenu qui distribue les objets stockés entre pairs dans un réseau P2P. &quot;Contenu adressable&quot; signifie que chaque élément de contenu (fichier) est haché et que le hachage est utilisé pour identifier ce fichier. Vous pouvez ensuite récupérer n&#39;importe quel fichier de n&#39;importe quel nœud IPFS en le demandant par son hachage.</p>
</div>
<div class="paragraph data-line-77">
<p>IPFS vise à remplacer HTTP comme protocole de choix pour la livraison d&#39;applications Web. Au lieu de stocker une application Web sur un seul serveur, les fichiers sont stockés sur IPFS et peuvent être récupérés à partir de n&#39;importe quel nœud IPFS.</p>
</div>
<div class="paragraph data-line-79">
<p>Plus d&#39;informations sur IPFS peuvent être trouvées sur <a href="https://ipfs.io" class="undefined" data-href="https://ipfs.io">https://ipfs.io</a>.</p>
</div>
</div>
<div class="sect4 data-line-83">
<h5 id="swarm_sec">Swarm</h5>
<div class="paragraph data-line-85">
<p>Swarm est un autre système de stockage P2P adressable par le contenu , similaire à IPFS. Swarm a été créé par la Fondation Ethereum, dans le cadre de la suite d&#39;outils Go-Ethereum. Comme IPFS, il vous permet de stocker des fichiers qui sont diffusés et répliqués par les nœuds Swarm. Vous pouvez accéder à n&#39;importe quel fichier Swarm en y faisant référence par un hachage. Swarm vous permet d&#39;accéder à un site Web à partir d&#39;un système P2P décentralisé, au lieu d&#39;un serveur Web central.</p>
</div>
<div class="paragraph data-line-87">
<p>La page d&#39;accueil de Swarm est elle-même stockée sur Swarm et accessible sur votre nœud Swarm ou une passerelle :
<a href="https://swarm-gateways.net/bzz:/theswarm.eth/" class="undefined" data-href="https://swarm-gateways.net/bzz:/theswarm.eth/">https://swarm-gateways.net/bzz:/theswarm.eth/</a>.</p>
</div>
</div>
</div>
<div class="sect3 data-line-92">
<h4 id="interdapp_coammunications_protocol_sec">Protocoles de communication de messages décentralisés</h4>
<div class="paragraph data-line-94">
<p>Un autre composant majeur de toute application est la communication inter-processus. Cela signifie pouvoir échanger des messages entre applications, entre différentes instances de l&#39;application ou entre utilisateurs de l&#39;application. Traditionnellement, cela est réalisé en s&#39;appuyant sur un serveur centralisé. Cependant, il existe une variété d&#39;alternatives décentralisées aux protocoles basés sur serveur, offrant une messagerie sur un réseau P2P. Le protocole de messagerie P2P le plus notable pour les DApps est <a href="http://bit.ly/2CSls5h" data-href="http://bit.ly/2CSls5h"><em>Whisper</em></a>, qui fait partie de la suite d&#39;outils Go-Ethereum de la Fondation Ethereum.</p>
</div>
<div class="paragraph data-line-96">
<p>Le dernier aspect d&#39;une application qui peut être décentralisée est la résolution de noms. Nous examinerons de près le service de noms d&#39;Ethereum plus loin dans ce chapitre ; maintenant, cependant, montrons un exemple.</p>
</div>
</div>
</div>
<div class="sect2 data-line-99">
<h3 id="auction_dapp_intro">Un exemple de DApp de base : DApp d&#39;enchères</h3>
<div class="paragraph data-line-101">
<p>Dans cette section, nous allons commencer à construire un exemple de DApp, pour explorer les différents outils de décentralisation. Notre DApp mettra en place une enchère décentralisée.</p>
</div>
<div class="paragraph data-line-103">
<p>La DApp d&#39;enchères permet à un utilisateur d&#39;enregistrer un jeton &quot;acte&quot;, qui représente un actif unique, comme une maison, une voiture, une marque, etc. Une fois qu&#39;un jeton a été enregistré, la propriété du jeton est transférée à la DApp d&#39;enchères, ce qui lui permet d&#39;être mis en vente. Le DApp d&#39;enchères répertorie chacun des jetons enregistrés, permettant aux autres utilisateurs de placer des offres. Au cours de chaque enchère, les utilisateurs peuvent rejoindre une salle de discussion créée spécifiquement pour cette enchère. Une fois qu&#39;une enchère est finalisée, la propriété du jeton d&#39;acte est transférée au gagnant de l&#39;enchère.</p>
</div>
<div class="paragraph data-line-105">
<p>Le processus global d&#39;enchères peut être vu dans <a href="#auction_dapp_overview">Auction DApp : un exemple simple de DApp d&#39;enchères</a>.</p>
</div>
<div class="paragraph data-line-107">
<p>Les principaux composants de notre DApp d&#8217;enchères sont :</p>
</div>
<div class="ulist data-line-109">
<ul>
<li class="data-line-109">
<p>Un contrat intelligent implémentant des jetons &quot;acte&quot; non fongibles ERC721 (<code><span class="keep-together">DeedRepository</span></code>)</p>
</li>
<li class="data-line-110">
<p>Un contrat intelligent mettant en place une enchère (AuctionRepository) pour vendre les actes</p>
</li>
<li class="data-line-111">
<p>Une interface web utilisant le cadre de développement JavaScript Vue/Vuetify</p>
</li>
<li class="data-line-112">
<p>La bibliothèque <em>web3.js</em> pour se connecter aux chaînes Ethereum (via MetaMask ou d&#39;autres clients)</p>
</li>
<li class="data-line-113">
<p>Un client Swarm, pour stocker des ressources telles que des images</p>
</li>
<li class="data-line-114">
<p>Un client Whisper, pour créer des salons de discussion par enchère pour tous les participants</p>
</li>
</ul>
</div>
<div id="auction_dapp_overview" class="imageblock data-line-118">
<div class="content">
<img src="images/auction_diagram.png" alt="&quot;DApp d&#39;enchères : un exemple simple de DApp d&#39;enchères&quot;">
</div>
<div class="title">Figure 2. Auction DApp : un exemple simple de DApp d&#39;enchères</div>
</div>
<div class="paragraph data-line-120">
<p>Vous pouvez trouver le code source de la DApp d&#39;enchères <a href="http://bit.ly/2DcmjyA" data-href="http://bit.ly/2DcmjyA">dans le référentiel du livre</a>.</p>
</div>
<div class="sect3 data-line-123">
<h4 id="_dapp_denchères_contrats_intelligents_dorsaux">DApp d&#39;enchères : contrats intelligents dorsaux</h4>
<div class="paragraph data-line-125">
<p> Notre exemple Auction DApp est pris en charge par deux contrats intelligents que nous devons déployer sur une chaîne de blocs Ethereum afin de prendre en charge l&#39;application : <code><span class="keep-together">AuctionRepository</span></code> et DeedRepository.</p>
</div>
<div class="paragraph data-line-127">
<p>Commençons par regarder DeedRepository, montré dans <a href="#deed_repository_code">DeedRepository.sol : un jeton d&#39;acte ERC721 à utiliser dans une vente aux enchères</a>. Ce contrat est un jeton non fongible compatible ERC721 (voir <a href="#erc721">[erc721]</a>).</p>
</div>
<div id="deed_repository_code" class="exampleblock data-line-131">
<div class="title">Example 1. DeedRepository.sol : un jeton d&#39;acte ERC721 à utiliser dans une vente aux enchères</div>
<div class="content">
<div class="listingblock data-line-133">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">pragma solidity ^0.5.16;
import "./ERC721/ERC721Token.sol";

/**
 * @title Repository of ERC721 Deeds
 * This contract contains the list of deeds registered by users.
 * This is a demo to show how tokens (deeds) can be minted and added 
 * to the repository.
 */
contract DeedRepository is ERC721Token {


    /**
    * @dev Created a DeedRepository with a name and symbol
    * @param _name string represents the name of the repository
    * @param _symbol string represents the symbol of the repository
    */
    constructor(string memory _name, string memory _symbol) 
        public ERC721Token(_name, _symbol) {}
    
    /**
    * @dev Public function to register a new deed
    * @dev Call the ERC721Token minter
    * @param _tokenId uint256 represents a specific deed
    * @param _uri string containing metadata/uri
    */
    function registerDeed(uint256 _tokenId, string memory _uri) public {
        _mint(msg.sender, _tokenId);
        addDeedMetadata(_tokenId, _uri);
        emit DeedRegistered(msg.sender, _tokenId);
    }

    /**
    * @dev Public function to add metadata to a deed
    * @param _tokenId represents a specific deed
    * @param _uri text which describes the characteristics of a given deed
    * @return whether the deed metadata was added to the repository
    */
    function addDeedMetadata(uint256 _tokenId, string memory _uri) public returns(bool){
        _setTokenURI(_tokenId, _uri);
        return true;
    }

    /**
    * @dev Event is triggered if deed/token is registered
    * @param _by address of the registrar
    * @param _tokenId uint256 represents a specific deed
    */
    event DeedRegistered(address _by, uint256 _tokenId);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph data-line-138">
<p>Comme vous pouvez le constater, le contrat DeedRepository est une implémentation simple d&#39;un jeton compatible ERC721.</p>
</div>
<div class="paragraph data-line-140">
<p>Notre DApp d&#8217;enchères utilise le contrat DeedRepository pour émettre et suivre les jetons pour chaque enchère. L&#39;enchère elle-même est orchestrée par le contrat AuctionRepository. Ce contrat est trop long pour être inclus ici dans son intégralité, mais <a href="#auction_repository_code">AuctionRepository.sol : le principal contrat intelligent Auction DApp</a> montre la définition principale du contrat et des structures de données. L&#39;intégralité du contrat est disponible dans le <a href="https://bit.ly/2IaOo9i" data-href="https://bit.ly/2IaOo9i">référentiel GitHub</a> du livre.</p>
</div>
<div id="auction_repository_code" class="exampleblock data-line-144">
<div class="title">Example 2. AuctionRepository.sol : le principal contrat intelligent Auction DApp</div>
<div class="content">
<div class="listingblock data-line-146">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">contract AuctionRepository {

    // Tableau avec toutes les enchères
    Auction[] public auctions;

    // Mappage de l&amp;#39;index d&amp;#39;enchères aux offres des utilisateurs
    mapping(uint256 =&gt; Bid[]) public auctionBids;

    // Mappage du propriétaire à une liste d&amp;#39;enchères détenues
    mapping(address =&gt; uint[]) public auctionOwner;

    // Structure d&amp;#39;enchère pour retenir l&amp;#39;enchérisseur et le montant
    struct Bid {
        address from;
        uint256 amount;
    }

    // Structure d&amp;#39;enchère contenant toutes les informations requises
    struct Auction {
        string name;
        uint256 blockDeadline;
        uint256 startPrice;
        string metadata;
        uint256 deedId;
        address deedRepositoryAddress;
        address owner;
        bool active;
        bool finalized;
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph data-line-179">
<p>Le contrat AuctionRepository gère toutes les enchères avec les fonctions suivantes :</p>
</div>
<div class="listingblock data-line-182">
<div class="content">
<pre class="highlight"><code class="language-solidity" data-lang="solidity">getCount()
getBidsCount(uint _auctionId)
getAuctionsOf(address _owner)
getCurrentBid(uint _auctionId)
getAuctionsCountOfOwner(address _owner)
getAuctionById(uint _auctionId)
createAuction(address _deedRepositoryAddress, uint256 _deedId,
              string _auctionTitle, string _metadata, uint256 _startPrice,
              uint _blockDeadline)
approveAndTransfer(address _from, address _to, address _deedRepositoryAddress,
                   uint256 _deedId)
cancelAuction(uint _auctionId)
finalizeAuction(uint _auctionId)
bidOnAuction(uint _auctionId)</code></pre>
</div>
</div>
<div class="paragraph data-line-199">
<p>Vous pouvez déployer ces contrats sur la chaîne de blocs Ethereum de votre choix (par exemple, Ropsten) en utilisant truffle dans le référentiel du livre :</p>
</div>
<pre data-type="programlisting">
$ <strong>cd code/auction_dapp/backend</strong>
$ <strong>truffle init</strong>
$ <strong>truffle compile</strong>
$ <strong>truffle migrate --network ropsten</strong>

</pre>
<div class="sect4 data-line-211">
<h5 id="_dapp_de_gouvernance">DApp de gouvernance</h5>
<div class="paragraph data-line-213">
<p>Si vous lisez les deux contrats intelligents de la DApp d&#39;enchères, vous remarquerez quelque chose d&#39;important : il n&#39;y a pas de compte ou de rôle spécial qui dispose de privilèges spéciaux sur la DApp. Chaque enchère a un propriétaire avec des capacités spéciales, mais la DApp d&#39;enchères elle-même n&#39;a pas d&#39;utilisateur privilégié.</p>
</div>
<div class="paragraph data-line-215">
<p>Il s&#39;agit d&#39;un choix délibéré de décentraliser la gouvernance de la DApp et de renoncer à tout contrôle une fois celle-ci déployée. Certains DApp, en comparaison, ont un ou plusieurs comptes privilégiés avec des capacités spéciales, telles que la possibilité de résilier le contrat DApp, de remplacer ou de modifier sa configuration, ou d&#39;opposer son veto à certaines opérations. Habituellement, ces fonctions de gouvernance sont introduites dans la DApp afin d&#39;éviter des problèmes inconnus qui pourraient survenir en raison d&#39;un bogue.</p>
</div>
<div class="paragraph data-line-217">
<p>La question de la gouvernance est particulièrement difficile à résoudre car elle représente une arme à double tranchant. D&#39;un côté, les comptes privilégiés sont dangereux ; s&#39;ils sont compromis, ils peuvent compromettre la sécurité du DApp. De l&#39;autre côté, sans compte privilégié, il n&#39;y a pas d&#39;options de récupération si un bogue est trouvé. Nous avons vu ces deux risques se manifester dans les DApp Ethereum. Dans le cas de The DAO (<a href="#real_world_example_the_dao">[real_world_example_the_dao]</a> et <a href="#ethereum_fork_history">[ethereum_fork_history]</a>), il y avait des comptes privilégiés appelés les &quot;conservateurs&quot;, mais ils étaient très limités dans leurs capacités. Ces comptes n&#39;ont pas pu annuler le retrait des fonds par l&#39;attaquant DAO. Dans un cas plus récent, l&#39;échange décentralisé Bancor a subi un vol massif parce qu&#39;un compte de gestion privilégié a été compromis. Il s&#39;avère que Bancor n&#39;était pas aussi décentralisé qu&#39;on le supposait initialement.</p>
</div>
<div class="paragraph data-line-219">
<p>Lors de la construction d&#39;une DApp, vous devez décider si vous voulez rendre les contrats intelligents vraiment indépendants, les lancer et n&#39;avoir ensuite aucun contrôle, ou créer des comptes privilégiés et courir le risque que ceux-ci soient compromis. L&#39;un ou l&#39;autre choix comporte des risques, mais à long terme, les vraies DApps ne peuvent pas avoir un accès spécialisé pour les comptes privilégiés - ce n&#39;est pas décentralisé.</p>
</div>
</div>
</div>
<div class="sect3 data-line-221">
<h4 id="_dapp_denchères_interface_utilisateur_frontale">DApp d&#39;enchères : interface utilisateur frontale</h4>
<div class="paragraph data-line-223">
<p>Une fois les contrats de la DApp d&#39;enchères déployés, vous pouvez interagir avec eux à l&#39;aide de votre console JavaScript préférée et de web3.js, ou d&#39;une autre bibliothèque web3. Cependant, la plupart des utilisateurs auront besoin d&#39;une interface facile à utiliser. Notre interface utilisateur de la DApp d&#8217;enchères est construite à l&#39;aide du cadre de développement (framework) JavaScript Vue2/Vuetify de Google.</p>
</div>
<div class="paragraph data-line-225">
<p>Vous pouvez trouver le code de l&#39;interface utilisateur dans le dossier <em>code/auction_dapp/frontend</em> dans <a href="https://github.com/ethereumbook/ethereumbook" class="undefined" data-href="https://github.com/ethereumbook/ethereumbook">https://github.com/ethereumbook/ethereumbook</a> [le référentiel du livre]. Le répertoire a la structure et le contenu suivants :</p>
</div>
<div class="listingblock data-line-227">
<div class="content">
<pre>frontend/
|-- build
|   |-- build.js
|   |-- check-versions.js
|   |-- logo.png
|   |-- utils.js
|   |-- vue-loader.conf.js
|   |-- webpack.base.conf.js
|   |-- webpack.dev.conf.js
|   `-- webpack.prod.conf.js
|-- config
|   |-- dev.env.js
|   |-- index.js
|   `-- prod.env.js
|-- index.html
|-- package.json
|-- package-lock.json
|-- README.md
|-- src
|   |-- App.vue
|   |-- components
|   |   |-- Auction.vue
|   |   `-- Home.vue
|   |-- config.js
|   |-- contracts
|   |   |-- AuctionRepository.json
|   |   `-- DeedRepository.json
|   |-- main.js
|   |-- models
|   |   |-- AuctionRepository.js
|   |   |-- ChatRoom.js
|   |   `-- DeedRepository.js
|   `-- router
|       `-- index.js</pre>
</div>
</div>
<div class="paragraph data-line-264">
<p>Une fois que vous avez déployé les contrats, modifiez la configuration du frontend dans <em>frontend/src/config.js</em> et entrez les adresses des contrats DeedRepository et AuctionRepository, tels que déployés. L&#39;application frontale a également besoin d&#39;accéder à un nœud Ethereum offrant une interface JSON-RPC et WebSockets. Une fois que vous avez configuré l&#39;interface, lancez-la avec un serveur Web sur votre machine locale :</p>
</div>
<pre data-type="programlisting">
$ <strong>npm install</strong>
$ <strong>npm run dev</strong>

</pre>
<div class="paragraph data-line-274">
<p>L&#39;interface Auction DApp sera lancée et sera accessible via n&#39;importe quel navigateur Web à l&#39;adresse <a href="http://localhost:8080" class="undefined" data-href="http://localhost:8080">http://localhost:8080</a>.</p>
</div>
<div class="paragraph data-line-276">
<p>Si tout se passe bien, vous devriez voir l&#39;écran affiché dans <a href="#auction_dapp_screen">Interface utilisateur de la DApp d&#8217;enchères</a>, qui illustre l&#39;exécution de la DApp d&#39;enchères dans un navigateur Web.</p>
</div>
<div id="auction_dapp_screen" class="imageblock data-line-280">
<div class="content">
<img src="images/auction_dapp_home_screen.png" alt="&quot;Interface utilisateur de la DApp d&#39;enchères&quot;">
</div>
<div class="title">Figure 3. Interface utilisateur de la DApp d&#8217;enchères</div>
</div>
</div>
</div>
<div class="sect2 data-line-282">
<h3 id="_décentraliser_davantage_la_dapp_denchères">Décentraliser davantage la DApp d&#39;enchères</h3>
<div class="paragraph data-line-284">
<p>Notre DApp est déjà assez décentralisé, mais nous pouvons améliorer les choses.</p>
</div>
<div class="paragraph data-line-286">
<p>Le contrat AuctionRepository fonctionne indépendamment de tout contrôle, ouvert à tous. Une fois déployé, il ne peut pas être arrêté, et aucune enchère ne peut être contrôlée. Chaque enchère a une salle de chat séparée qui permet à quiconque de communiquer sur l&#39;enchère sans censure ni identification. Les différents actifs d&#39;enchères, tels que la description et l&#39;image associée, sont stockés sur Swarm, ce qui les rend difficiles à censurer ou à bloquer.</p>
</div>
<div class="paragraph data-line-288">
<p>N&#39;importe qui peut interagir avec la DApp en créant des transactions manuellement ou en exécutant l&#39;interface Vue sur sa machine locale. Le code de la DApp lui-même est à source libre et développé en collaboration sur un référentiel public.</p>
</div>
<div class="paragraph data-line-290">
<p>Il y a deux choses que nous pouvons faire pour rendre cette DApp décentralisée et résiliente :</p>
</div>
<div class="ulist data-line-292">
<ul>
<li class="data-line-292">
<p>Stockez tout le code d&#39;application sur Swarm ou IPFS.</p>
</li>
<li class="data-line-293">
<p>Accédez au DApp par référence à un nom, en utilisant le service de nom Ethereum.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-295">
<p>Nous explorerons la première option dans la section suivante, et nous approfondirons la seconde dans <a href="#ethereum_naming_system_ens">Le service de noms Ethereum (ENS)</a>.</p>
</div>
</div>
<div class="sect2 data-line-297">
<h3 id="_stockage_de_la_dapp_denchères_sur_swarm">Stockage de la DApp d&#39;enchères sur Swarm</h3>
<div class="paragraph data-line-299">
<p>Nous avons introduit Swarm dans <a href="#swarm_sec">Swarm</a>, plus haut dans ce chapitre. Notre DApp d&#8217;enchères utilise déjà Swarm pour stocker l&#39;image de l&#39;icône pour chaque enchère. C&#39;est une solution beaucoup plus efficace que de tenter de stocker des données sur Ethereum, ce qui coûte cher. Il est également beaucoup plus résistant que si ces images étaient stockées dans un service centralisé comme un serveur Web ou un serveur de fichiers.</p>
</div>
<div class="paragraph data-line-301">
<p>Mais on peut aller plus loin. Nous pouvons stocker l&#39;intégralité de l&#39;interface du DApp lui-même dans Swarm et l&#39;exécuter directement à partir d&#39;un nœud Swarm, au lieu d&#39;exécuter un serveur Web.</p>
</div>
<div class="sect3 data-line-303">
<h4 id="_préparation_de_swarm">Préparation de Swarm</h4>
<div class="paragraph data-line-305">
<p>Pour commencer, vous devez installer Swarm et initialiser votre nœud Swarm. Swarm fait partie de la suite d&#39;outils Go-Ethereum de la Fondation Ethereum. Reportez-vous aux instructions d&#39;installation de Go-Ethereum dans <a href="#go_ethereum_geth">[go_ethereum_geth]</a>, ou pour installer une version binaire Swarm, suivez les instructions de la <a href="http://bit.ly/2Q75KXw" data-href="http://bit.ly/2Q75KXw">documentation Swarm</a>.</p>
</div>
<div class="paragraph data-line-307">
<p>Une fois que vous avez installé Swarm, vous pouvez vérifier qu&#39;il fonctionne correctement en le lançant avec la commande version :</p>
</div>
<pre data-type="programlisting">
$ <strong>swarm version</strong>
Version: 0.3
Git Commit: 37685930d953bcbe023f9bc65b135a8d8b8f1488
Go Version: go1.10.1
OS: linux

</pre>
<div class="paragraph data-line-320">
<p>Pour commencer à exécuter Swarm, vous devez lui dire comment se connecter à une instance de Geth, pour accéder à l&#39;API JSON-RPC. Commencez en suivant les instructions du <a href="https://swarm-guide.readthedocs.io/en/latest/gettingstarted.html" data-href="https://swarm-guide.readthedocs.io/en/latest/gettingstarted.html">Guide de démarrage</a>.</p>
</div>
<div class="paragraph data-line-322">
<p>Lorsque vous démarrez Swarm, vous devriez voir quelque chose comme ceci :</p>
</div>
<div class="listingblock data-line-324">
<div class="content">
<pre>Maximum peer count                       ETH=25 LES=0 total=25
Starting peer-to-peer node               instance=swarm/v0.3.1-225171a4/linux...
connecting to ENS API                    url=http://127.0.0.1:8545
swarm[5955]: [189B blob data]
Starting P2P networking
UDP listener up                          self=enode://f50c8e19ff841bcd5ce7d2d...
Updated bzz local addr                   oaddr=9c40be8b83e648d50f40ad3... uaddr=e
Starting Swarm service
9c40be8b hive starting
detected an existing store. trying to load peers
hive 9c40be8b: peers loaded
Swarm network started on bzz address: 9c40be8b83e648d50f40ad3d35f...
Pss started
Streamer started
IPC endpoint opened                      url=/home/ubuntu/.ethereum/bzzd.ipc
RLPx listener up                         self=enode://f50c8e19ff841bcd5ce7d2d...</pre>
</div>
</div>
<div class="paragraph data-line-343">
<p>Vous pouvez vérifier que votre nœud Swarm fonctionne correctement en vous connectant à l&#39;interface Web de la passerelle Swarm locale :
<a href="http://localhost:8500" class="undefined" data-href="http://localhost:8500">http://localhost:8500</a>.</p>
</div>
<div class="paragraph data-line-346">
<p>Vous devriez voir un écran comme celui de <a href="#image_swarm_gateway">Passerelle Swarm sur localhost</a> et pouvoir interroger n&#39;importe quel hachage Swarm ou nom ENS.</p>
</div>
<div id="image_swarm_gateway" class="imageblock data-line-350">
<div class="content">
<img src="images/swarm-gateway.png" alt="&quot;Passerelle Swarm sur localhost&quot;">
</div>
<div class="title">Figure 4. Passerelle Swarm sur localhost</div>
</div>
</div>
<div class="sect3 data-line-352">
<h4 id="_télécharger_des_fichiers_sur_swarm">Télécharger des fichiers sur Swarm</h4>
<div class="paragraph data-line-354">
<p>Une fois que votre nœud et votre passerelle Swarm locaux sont en cours d&#39;exécution, vous pouvez télécharger vers Swarm et les fichiers seront accessible sur n&#39;importe quel nœud Swarm, simplement par référence au hachage du fichier.</p>
</div>
<div class="paragraph data-line-356">
<p>Testons cela en téléchargeant un fichier :</p>
</div>
<pre data-type="programlisting">
$ <strong>swarm up code/auction_dapp/README.md</strong>
ec13042c83ffc2fb5cb0aa8c53f770d36c9b3b35d0468a0c0a77c97016bb8d7c

</pre>
<div class="paragraph data-line-366">
<p>Swarm a téléchargé le fichier <em>README.md</em> et renvoyé un hachage que vous pouvez utiliser pour accéder au fichier à partir de n&#39;importe quel nœud Swarm. Par exemple, vous pouvez utiliser la <a href="https://bit.ly/2znWUP9" class="undefined" data-href="https://bit.ly/2znWUP9">https://bit.ly/2znWUP9</a> [passerelle Swarm publique].</p>
</div>
<div class="paragraph data-line-368">
<p>Bien que le téléchargement d&#39;un fichier soit relativement simple, il est un peu plus complexe de télécharger une interface DApp entière. En effet, les différentes ressources DApp (HTML, CSS, JavaScript, bibliothèques, etc.) ont des références intégrées les unes aux autres. Normalement, un serveur Web traduit les URL en fichiers locaux et fournit les bonnes ressources. Nous pouvons obtenir la même chose pour Swarm en empaquetant notre DApp.</p>
</div>
<div class="paragraph data-line-370">
<p>Dans la DApp d&#8217;enchères, il existe un script pour regrouper toutes les ressources :</p>
</div>
<pre data-type="programlisting">
$ <strong>cd code/auction_dapp/frontend</strong>
$ <strong>npm run build</strong>

> <strong>frontend@1.0.0 build /home/aantonop/Dev/ethereumbook/code/auction_dapp/frontend</strong>
> <strong>node build/build.js</strong>

Hash: 9ee134d8db3c44dd574d
Version: webpack 3.10.0
Time: 25665ms
Asset     Size
static/js/vendor.77913f316aaf102cec11.js  1.25 MB
static/js/app.5396ead17892922422d4.js   502 kB
static/js/manifest.87447dd4f5e60a5f9652.js  1.54 kB
static/css/app.0e50d6a1d2b1ed4daa03d306ced779cc.css  1.13 kB
static/css/app.0e50d6a1d2b1ed4daa03d306ced779cc.css.map  2.54 kB
static/js/vendor.77913f316aaf102cec11.js.map  4.74 MB
static/js/app.5396ead17892922422d4.js.map   893 kB
static/js/manifest.87447dd4f5e60a5f9652.js.map  7.86 kB
index.html  1.15 kB

Build complete.

</pre>
<div class="paragraph data-line-399">
<p>Le résultat de cette commande sera un nouveau répertoire, <em>code/auction_dapp/frontend/dist</em>, qui contient l&#39;intégralité de l&#39;interface Auction DApp, regroupée :</p>
</div>
<div class="listingblock data-line-401">
<div class="content">
<pre>dist/
|-- index.html
`-- static
    |-- css
    |   |-- app.0e50d6a1d2b1ed4daa03d306ced779cc.css
    |   `-- app.0e50d6a1d2b1ed4daa03d306ced779cc.css.map
    `-- js
        |-- app.5396ead17892922422d4.js
        |-- app.5396ead17892922422d4.js.map
        |-- manifest.87447dd4f5e60a5f9652.js
        |-- manifest.87447dd4f5e60a5f9652.js.map
        |-- vendor.77913f316aaf102cec11.js
        `-- vendor.77913f316aaf102cec11.js.map</pre>
</div>
</div>
<div class="paragraph data-line-418">
<p>Vous pouvez maintenant télécharger l&#39;intégralité du DApp sur Swarm, en utilisant la commande up et l&#39;option --recursive. Ici, nous disons également à Swarm que index.html est le defaultpath pour charger cette DApp :</p>
</div>
<pre data-type="programlisting">
$ <strong>swarm --bzzapi http://localhost:8500 --recursive \
  --defaultpath dist/index.html up dist/</strong>

ab164cf37dc10647e43a233486cdeffa8334b026e32a480dd9cbd020c12d4581

</pre>
<div class="paragraph data-line-430">
<p>Désormais, l&#39;intégralité de notre DApp d&#8217;enchères est hébergée sur Swarm et accessible par l&#39;URL Swarm :</p>
</div>
<ul class="simplelist">
<li><em>bzz://ab164cf37dc10647e43a233486cdeffa8334b026e32a480dd9cbd020c12d4581</em></li>
</ul>
<div class="paragraph data-line-438">
<p>Nous avons fait quelques progrès dans la décentralisation de notre DApp, mais nous l&#39;avons rendu plus difficile à utiliser. Une URL comme celle-là est beaucoup moins conviviale qu&#39;un joli nom comme <em>auction_dapp.com</em>. Sommes-nous obligés de sacrifier l&#39;utilisabilité pour gagner en décentralisation ? Pas nécessairement. Dans la section suivante, nous examinerons le service de noms d&#39;Ethereum, qui nous permet d&#39;utiliser des noms faciles à lire tout en préservant la nature décentralisée de notre application.(range=&quot;endofrange&quot;, startref=&quot;ix_12dapps-asciidoc7&quot; )</p>
</div>
</div>
</div>
<div class="sect2 data-line-441">
<h3 id="ethereum_naming_system_ens">Le service de noms Ethereum (ENS)</h3>
<div class="paragraph data-line-443">
<p>Vous pouvez concevoir le meilleur contrat intelligent au monde , mais si vous ne fournissez pas une bonne interface aux utilisateurs, ils ne pourront pas y accéder.</p>
</div>
<div class="paragraph data-line-445">
<p>Sur Internet traditionnel, le système de noms de domaine (DNS) nous permet d&#39;utiliser des noms lisibles par l&#39;homme dans le navigateur tout en résolvant ces noms en adresses IP ou autres identifiants dans les coulisses. Sur la blockchain Ethereum, le <em>Ethereum Naming System</em> (ENS) résout le même problème, mais de manière décentralisée.</p>
</div>
<div class="paragraph data-line-447">
<p>Par exemple, l&#39;adresse de don de la Fondation Ethereum est 0xfB6916095ca1df60bB79Ce92cE3Ea74c37c5d359 ; dans un portefeuille qui prend en charge ENS, c&#39;est simplement ethereum.eth.</p>
</div>
<div class="paragraph data-line-449">
<p>ENS est plus qu&#39;un contrat intelligent ; c&#39;est une DApp fondamentale en elle-même, offrant un service de noms décentralisé. En outre, ENS est pris en charge par un certain nombre de DApps pour l&#39;enregistrement, la gestion et les enchères de noms enregistrés. ENS démontre comment les DApps peuvent fonctionner ensemble : c&#39;est une DApp conçue pour servir d&#39;autres DApps, prise en charge par un écosystème de DApps, intégrée dans d&#39;autres DApps, etc.</p>
</div>
<div class="paragraph data-line-451">
<p>Dans cette section, nous verrons comment fonctionne ENS. Nous montrerons comment vous pouvez configurer votre propre nom et le lier à un portefeuille ou à une adresse Ethereum, comment vous pouvez intégrer ENS dans un autre DApp et comment vous pouvez utiliser ENS pour nommer vos ressources DApp afin de les rendre plus faciles à utiliser.</p>
</div>
<div class="sect3 data-line-453">
<h4 id="_histoire_des_services_de_noms_ethereum">Histoire des services de noms Ethereum</h4>
<div class="paragraph data-line-455">
<p> L&#39;enregistrement de noms a été la première application non monétaire des chaînes de blocs, lancée par Namecoin. L&#39;Ethereum <a href="http://bit.ly/2Of1gfZ" class="undefined" data-href="http://bit.ly/2Of1gfZ">http://bit.ly/2Of1gfZ</a> [White Paper] a donné un système d&#39;enregistrement de type Namecoin à deux lignes comme l&#39;un de ses exemples d&#39;applications.</p>
</div>
<div class="paragraph data-line-457">
<p>Les premières versions de Geth et du client C++ Ethereum avaient un contrat namereg intégré (qui n&#39;est plus utilisé), et de nombreuses propositions et ERC pour les services de noms ont été faites, mais ce n&#39;est que lorsque Nick Johnson a commencé à travailler pour la Fondation Ethereum en 2016. et a pris le projet sous son aile que le travail sérieux sur un registraire a commencé.</p>
</div>
<div class="paragraph data-line-459">
<p>ENS a été lancé le Star Wars Day, le 4 mai 2017 (après une tentative infructueuse de le lancer le Pi Day, le 15 mars).</p>
</div>
</div>
<div class="sect3 data-line-461">
<h4 id="_la_spécification_ens">La spécification ENS</h4>
<div class="paragraph data-line-463">
<p>ENS est spécifié principalement dans trois propositions d&#39;amélioration d&#39;Ethereum : EIP-137, qui spécifie les fonctions de base d&#39;ENS ; EIP-162, qui décrit le système d&#39;enchères pour la racine .eth ; et EIP-181, qui spécifie la résolution inverse des adresses.</p>
</div>
<div class="paragraph data-line-465">
<p>ENS suit une philosophie de conception &quot;sandwich&quot;: une couche très simple en bas, suivie de couches de code plus complexes mais remplaçables, avec une couche supérieure très simple qui conserve tous les fonds dans des comptes séparés.</p>
</div>
</div>
<div class="sect3 data-line-467">
<h4 id="_couche_inférieure_nommez_les_propriétaires_et_les_résolveurs">Couche inférieure : nommez les propriétaires et les résolveurs</h4>
<div class="paragraph data-line-469">
<p>L&#39;ENS fonctionne sur des &quot;nœuds&quot; au lieu de noms lisibles par l&#39;homme : un nom lisible par l&#39;homme est converti en nœud à l&#39;aide de l&#39;algorithme &quot;Namehash&quot;.</p>
</div>
<div class="paragraph data-line-471">
<p>La couche de base d&#39;ENS est un contrat astucieusement simple (moins de 50 lignes de code) défini par ERC137 qui permet uniquement aux propriétaires de nœuds de définir des informations sur leurs noms et de créer des sous-nœuds (l&#39;équivalent ENS des sous-domaines DNS).</p>
</div>
<div class="paragraph data-line-473">
<p>Les seules fonctions sur la couche de base sont celles qui permettent à un propriétaire de nœud de définir des informations sur son propre nœud (en particulier le résolveur, la durée de vie ou le transfert de propriété) et de créer des propriétaires de nouveaux sous-nœuds.</p>
</div>
<div class="sect4 data-line-475">
<h5 id="_lalgorithme_namehash">L&#39;algorithme Namehash</h5>
<div class="paragraph data-line-477">
<p>Namehash est un algorithme récursif qui peut convertir n&#39;importe quel nom en un hachage qui identifie le nom.</p>
</div>
<div class="paragraph data-line-479">
<p>&quot;Récursif&quot; signifie que nous résolvons le problème en résolvant un sous-problème qui est un problème plus petit du même type, puis utilisons la solution du sous-problème pour résoudre le problème d&#39;origine.</p>
</div>
<div class="paragraph data-line-481">
<p>Namehash hache de manière récursive les composants du nom, produisant une chaîne unique de longueur fixe (ou &quot;nœud&quot;) pour tout domaine d&#39;entrée valide. Par exemple, le nœud Namehash de subdomain.example.eth est `keccak(&#39;&lt;example.eth&gt; &#39; nœud) + keccak(&#39;&lt;subdomain&gt;&#39;)&#39;. Le sous-problème que nous devons résoudre est de calculer le nœud pour example.eth, qui est `keccak(&#39;&lt;.eth&gt;&#39; node) + keccak(&#39;&lt;example&gt;&#39;)&#39;. Pour commencer, nous devons calculer le nœud pour eth, qui est `keccak(&lt;root node&gt;) + keccak(&#39;&lt;eth&gt;&#39;)&#39;.</p>
</div>
<div class="paragraph data-line-483">
<p>Le nœud racine est ce que nous appelons le &quot;cas de base&quot; de notre récursivité, et nous ne pouvons évidemment pas le définir de manière récursive, sinon l&#39;algorithme ne se terminera jamais ! Le nœud racine est défini comme <code>0x00000000000000000000000000000000000000000000000000000000000</code> (32 zéro octets).</p>
</div>
<div class="paragraph data-line-485">
<p>En mettant tout cela ensemble, le nœud de subdomain.example.eth est donc <code><span class="keep-together">keccak</span>(keccak(keccak(0x0...0 + keccak(&#39;eth&#39;)) + keccak(&#39;example&#39;)) + keccak(&#39;subdomain&#39;))</code>.</p>
</div>
<div class="paragraph data-line-487">
<p>En généralisant, nous pouvons définir la fonction Namehash comme suit (le cas de base pour le nœud racine, ou nom vide, suivi de l&#39;étape récursive) :</p>
</div>
<div class="literalblock data-line-489">
<div class="content">
<pre>namehash([]) = 0x0000000000000000000000000000000000000000000000000000000000000000
namehash([label, ...]) = keccak256(namehash(...) + keccak256(label))</pre>
</div>
</div>
<div class="paragraph data-line-494">
<p>En Python cela devient :</p>
</div>
<div class="literalblock data-line-496">
<div class="content">
<pre>def namehash(name):
  if name == '':
    return '\0' * 32
  else:
    label, _, remainder = name.partition('.')
    return sha3(namehash(remainder) + sha3(label))</pre>
</div>
</div>
<div class="paragraph data-line-505">
<p>Thus, mastering-ethereum.eth will be processed as follows:</p>
</div>
<div class="literalblock data-line-507">
<div class="content">
<pre>namehash('mastering-ethereum.eth')
⇒ sha3(namehash('eth') + sha3('mastering-ethereum'))
⇒ sha3(sha3(namehash('') + sha3('eth')) + sha3('mastering-ethereum'))
⇒ sha3(sha3(('\0' * 32) + sha3('eth')) + sha3('mastering-ethereum'))</pre>
</div>
</div>
<div class="paragraph data-line-514">
<p>Bien sûr, les sous-domaines peuvent eux-mêmes avoir des sous-domaines : il peut y avoir un sub.subdomain.example.eth après subdomain.example.eth, puis un sub.sub.subdomain.example.eth, et ainsi de suite. Pour éviter un recalcul coûteux, puisque Namehash ne dépend que du nom lui-même, le nœud d&#39;un nom donné peut être précalculé et inséré dans un contrat, éliminant ainsi le besoin de manipulation de chaîne et permettant une recherche immédiate des enregistrements ENS quel que soit le nombre de composants dans le nom brut.</p>
</div>
</div>
<div class="sect4 data-line-516">
<h5 id="_comment_choisir_un_nom_valide">Comment choisir un nom valide</h5>
<div class="paragraph data-line-517">
<p>Les noms consistent en une série d&#39;étiquettes séparées par des points. Bien que les lettres majuscules et minuscules soient autorisées, toutes les étiquettes doivent suivre un processus de normalisation UTS #46 qui plie les étiquettes avant de les hacher, de sorte que les noms avec une casse différente mais une orthographe identique se retrouveront avec le même Namehash.</p>
</div>
<div class="paragraph data-line-519">
<p>Vous pouvez utiliser des étiquettes et des domaines de n&#39;importe quelle longueur, mais pour des raisons de compatibilité avec l&#39;ancien DNS, les règles suivantes sont recommandées :</p>
</div>
<div class="ulist data-line-521">
<ul>
<li class="data-line-521">
<p>Les libellés ne doivent pas comporter plus de 64 caractères chacun.</p>
</li>
<li class="data-line-522">
<p>Les noms ENS complets ne doivent pas dépasser 255 caractères.</p>
</li>
<li class="data-line-523">
<p>Les étiquettes (labels) ne doivent pas commencer ou se terminer par des traits d&#39;union, ni commencer par des chiffres.</p>
</li>
</ul>
</div>
</div>
<div class="sect4 data-line-525">
<h5 id="_propriété_du_nœud_racine">Propriété du nœud racine</h5>
<div class="paragraph data-line-527">
<p>L&#39;un des résultats de ce système hiérarchique est qu&#39;il s&#39;appuie sur les propriétaires du nœud racine, qui sont capables de créer des domaines de premier niveau ( TLD).</p>
</div>
<div class="paragraph data-line-529">
<p>Alors que l&#39;objectif final est d&#39;adopter un processus décisionnel décentralisé pour les nouveaux TLD, au moment de la rédaction, le nœud racine est contrôlé par un multisig 4 sur 7, détenu par des personnes de différents pays (construit comme un reflet des 7 détenteurs de clés du système DNS).
En conséquence, une majorité d&#39;au moins 4 des 7 détenteurs de clés est requise pour effectuer tout changement.</p>
</div>
<div class="paragraph data-line-532">
<p>Actuellement, le but et l&#39;objectif de ces détenteurs de clés est de travailler en consensus avec la communauté pour :</p>
</div>
<div class="ulist data-line-534">
<ul>
<li class="data-line-534">
<p>Migrer et mettre à niveau la propriété temporaire du TLD .eth vers un contrat plus permanent une fois le système évalué.</p>
</li>
<li class="data-line-535">
<p>Autoriser l&#39;ajout de nouveaux TLD, si la communauté convient qu&#39;ils sont nécessaires.</p>
</li>
<li class="data-line-536">
<p>Migrer la propriété du multisig racine vers un contrat plus décentralisé, lorsqu&#39;un tel système est convenu, testé et mis en œuvre.</p>
</li>
<li class="data-line-537">
<p>Servir de moyen de dernier recours pour traiter les bogues ou les vulnérabilités dans les registres de niveau supérieur.</p>
</li>
</ul>
</div>
</div>
<div class="sect4 data-line-539">
<h5 id="_résolveurs">Résolveurs</h5>
<div class="paragraph data-line-541">
<p>Le contrat ENS de base ne peut pas ajouter de métadonnées aux noms ; c&#39;est le travail des soi-disant « contrats de résolveur ». Ce sont des contrats créés par l&#39;utilisateur qui peuvent répondre à des questions sur le nom, telles que l&#39;adresse Swarm associée à l&#39;application, l&#39;adresse qui reçoit les paiements à l&#39;application (en éther ou en jetons) ou le hachage de l&#39;application (pour vérifier son intégrité).</p>
</div>
</div>
</div>
<div class="sect3 data-line-543">
<h4 id="_couche_intermédiaire_les_nœuds_eth">Couche intermédiaire : les nœuds .eth</h4>
<div class="paragraph data-line-545">
<p>Au moment de la rédaction, le seul domaine de premier niveau pouvant être enregistré de manière unique dans un contrat intelligent est .eth.</p>
</div>
<div class="admonitionblock note data-line-548">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph data-line-549">
<p>Des travaux sont en cours pour permettre aux propriétaires de domaines DNS traditionnels de revendiquer la propriété ENS.
Bien qu&#39;en théorie cela puisse fonctionner pour .com, le seul domaine pour lequel cela a été implémenté jusqu&#39;à présent est <a href="http://bit.ly/2SwUuFC" data-href="http://bit.ly/2SwUuFC">.xyz, et uniquement sur le testnet de Ropsten</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-553">
<p>Les domaines .eth sont distribués via un système d&#39;enchères. Il n&#39;y a pas de liste réservée ni de priorité, et la seule façon d&#39;acquérir un nom est d&#39;utiliser le système. Le système d&#39;enchères est un morceau de code complexe (plus de 500 lignes) ; la plupart des premiers efforts de développement (et des bugs !) dans ENS concernaient cette partie du système. Cependant, il est également remplaçable et évolutif, sans risque pour les fonds - nous en reparlerons plus tard.</p>
</div>
<div class="sect4 data-line-556">
<h5 id="vickrey_auction">Enchères Vickrey</h5>
<div class="paragraph data-line-558">
<p>Les noms sont distribués via une enchère Vickrey modifiée. Dans une enchère Vickrey traditionnelle, chaque enchérisseur soumet une offre scellée, et tous sont révélés simultanément, auquel cas le plus offrant remporte l&#39;enchère mais ne paie que la deuxième offre la plus élevée. Par conséquent, les enchérisseurs sont incités à ne pas enchérir moins que la valeur réelle du nom pour eux, car enchérir sur leur valeur réelle augmente les chances qu&#39;ils gagnent mais n&#39;affecte pas le prix qu&#39;ils paieront finalement.</p>
</div>
<div class="paragraph data-line-560">
<p>Sur une chaîne de blocs, certains changements sont nécessaires :</p>
</div>
<div class="ulist data-line-562">
<ul>
<li class="data-line-562">
<p>Pour s&#39;assurer que les enchérisseurs ne soumettent pas d&#39;enchères qu&#39;ils n&#39;ont pas l&#39;intention de payer, ils doivent verrouiller au préalable une valeur égale ou supérieure à leur enchère, afin de garantir la validité de l&#39;enchère.</p>
</li>
<li class="data-line-563">
<p>Étant donné que vous ne pouvez pas cacher de secrets sur une chaîne de blocs, les enchérisseurs doivent exécuter au moins deux transactions (un processus de validation-révélation) afin de masquer la valeur et le nom d&#39;origine sur lesquels ils ont enchéri.</p>
</li>
<li class="data-line-564">
<p>Étant donné que vous ne pouvez pas révéler toutes les offres simultanément dans un système décentralisé, les enchérisseurs doivent révéler eux-mêmes leurs propres offres ; s&#39;ils ne le font pas, ils perdent leurs fonds bloqués. Sans ce forfait, on pourrait faire de nombreuses offres et choisir de n&#39;en révéler qu&#39;une ou deux, transformant une enchère à offre scellée en une <span class="keep-together">enchère</span> de prix croissant traditionnelle.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-566">
<p>Par conséquent, l&#39;enchère est un processus en quatre étapes :</p>
</div>
<div class="olist arabic data-line-568">
<ol class="arabic">
<li class="data-line-568">
<p>Lancez l&#39;enchère. Ceci est nécessaire pour diffuser l&#39;intention d&#39;enregistrer un nom.
Cela crée toutes les dates limites d&#39;enchères. Les noms sont hachés, de sorte que seuls ceux qui ont le nom dans leur dictionnaire sauront quelle enchère a été ouverte. Cela permet une certaine confidentialité, ce qui est utile si vous créez un nouveau projet et que vous ne souhaitez pas partager de détails à son sujet.
Vous pouvez ouvrir plusieurs enchères fictives en même temps, donc si quelqu&#39;un vous suit, il ne peut pas simplement enchérir sur toutes les enchères que vous ouvrez.</p>
</li>
<li class="data-line-572">
<p>Faites une offre scellée. Vous devez le faire avant la date limite d&#39;enchère, en liant une quantité donnée d&#39;ether au hachage d&#39;un message secret (contenant, entre autres, le hachage du nom, le montant réel de l&#39;enchère et un sel).
Vous pouvez verrouiller plus d&#39;ether que vous n&#39;enchérissez réellement afin de masquer votre véritable évaluation.</p>
</li>
<li class="data-line-575">
<p>Révélez l&#39;enchère. Pendant la période de révélation, vous devez effectuer une transaction qui révèle l&#39;enchère, qui calculera ensuite l&#39;enchère la plus élevée et la deuxième enchère la plus élevée et renverra l&#39;ether aux enchérisseurs non retenus.
Chaque fois que l&#39;enchère est révélée, le gagnant actuel est recalculé ; par conséquent, le dernier à être défini avant l&#39;expiration du délai de révélation devient le grand gagnant.</p>
</li>
<li class="data-line-578">
<p>Nettoyer après. Si vous êtes le gagnant, vous pouvez finaliser l&#39;enchère afin de récupérer la différence entre votre enchère et la deuxième enchère la plus élevée.
Si vous avez oublié de révéler, vous pouvez faire une révélation tardive et récupérer une partie de votre enchère.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3 data-line-581">
<h4 id="_couche_supérieure_les_actes">Couche supérieure : les actes</h4>
<div class="paragraph data-line-583">
<p>La couche supérieure d&#39;ENS est encore un autre contrat super simple avec un seul but : détenir les fonds.</p>
</div>
<div class="paragraph data-line-585">
<p>Lorsque vous gagnez un nom, les fonds ne sont en fait envoyés nulle part, mais sont simplement bloqués pendant la période pendant laquelle vous souhaitez conserver le nom (au moins un an).
Cela fonctionne comme un rachat garanti : si le propriétaire ne veut plus du nom, il peut le revendre au système et récupérer son ether (ainsi, le coût de détention du nom est le coût d&#39;opportunité de faire quelque chose avec un rendement supérieur à zéro ).</p>
</div>
<div class="paragraph data-line-588">
<p>Bien sûr, avoir un seul contrat détenant des millions de dollars en ether s&#39;est avéré très risqué, donc à la place, ENS crée un contrat d&#39;acte pour chaque nouveau nom.
Le contrat d&#39;acte est très simple (environ 50 lignes de code), et il ne permet que les fonds d&#39;être transférés vers un seul compte (le propriétaire de l&#39;acte) et d&#39;être appelés par une seule entité (le contrat du registraire).
Cette approche réduit considérablement la surface d&#39;attaque où les bogues peuvent mettre les fonds en danger.</p>
</div>
</div>
<div class="sect3 data-line-592">
<h4 id="_enregistrer_un_nom">Enregistrer un nom</h4>
<div class="paragraph data-line-594">
<p>L&#39;enregistrement d&#39;un nom dans ENS est un processus en quatre étapes, comme nous l&#39;avons vu dans <a href="#vickrey_auction">Enchères Vickrey</a>. Nous plaçons d&#39;abord une enchère pour n&#39;importe quel nom disponible, puis nous révélons notre enchère après 48 heures pour sécuriser le nom. <a href="#ens_registration_timeline">Calendrier ENS pour l&#39;enregistrement</a> est un schéma montrant le calendrier d&#39;enregistrement.</p>
</div>
<div class="paragraph data-line-596">
<p>Enregistrons notre premier nom !</p>
</div>
<div class="paragraph data-line-598">
<p>Nous utiliserons l&#39;une des nombreuses interfaces conviviales disponibles pour rechercher les noms disponibles, placer une enchère sur le nom ethereumbook.eth, révéler l&#39;enchère et sécuriser le nom.</p>
</div>
<div class="paragraph data-line-600">
<p>Il existe un certain nombre d&#39;interfaces Web vers ENS qui nous permettent d&#39;interagir avec l&#39;ENS DApp. Pour cet exemple, nous utiliserons l&#39;interface <a href="https://mycrypto.com/" data-href="https://mycrypto.com/">MyCrypto</a>, en conjonction avec MetaMask comme portefeuille.</p>
</div>
<div id="ens_registration_timeline" class="imageblock data-line-604">
<div class="content">
<img src="images/ens-flow.png" alt="ens flow">
</div>
<div class="title">Figure 5. Calendrier ENS pour l&#39;enregistrement</div>
</div>
<div class="paragraph data-line-608">
<p>Tout d&#39;abord, nous devons nous assurer que le nom que nous voulons est disponible. En écrivant ce livre, nous voulions vraiment enregistrer le nom mastering.eth, mais hélas, <a href="#ens-name-search">Recherche de noms ENS sur MyCrypto.com</a> a révélé qu&#39;il était déjà pris ! Comme les inscriptions à l&#39;ENS ne durent qu&#39;un an, il pourrait devenir possible d&#39;obtenir ce nom à l&#39;avenir. En attendant, recherchons ethereumbook.eth (<a href="#ens-name-search">Recherche de noms ENS sur MyCrypto.com</a>).</p>
</div>
<div id="ens-name-search" class="imageblock data-line-612">
<div class="content">
<img src="images/ens-checkname.png" alt="&quot;Recherche de noms ENS sur MyCrypto.com&quot;">
</div>
<div class="title">Figure 6. Recherche de noms ENS sur MyCrypto.com</div>
</div>
<div class="paragraph data-line-614">
<p>Génial! Le nom est disponible. Pour l&#39;enregistrer, nous devons avancer avec <a href="#ens-auction">Démarrer une offre d&#8217;enchère pour un nom ENS</a>. Débloquons MetaMask et commençons notre enregistrement pour ethereumbook.eth.</p>
</div>
<div id="ens-auction" class="imageblock data-line-619">
<div class="content">
<img src="images/ens-auction.png" alt="&quot;Démarrer une offre d&#8217;enchère pour un nom ENS&quot;">
</div>
<div class="title">Figure 7. Démarrer une offre d&#8217;enchère pour un nom ENS</div>
</div>
<div class="paragraph data-line-622">
<p>Faisons notre offre. Pour ce faire, nous devons suivre les étapes de <a href="#ens-bid">Placer une offre pour un nom ENS</a>.</p>
</div>
<div id="ens-bid" class="imageblock data-line-627">
<div class="content">
<img src="images/ens-bid.png" alt="&quot;Placer une offre d&#8217;enchère pour un nom ENS&quot;">
</div>
<div class="title">Figure 8. Placer une offre pour un nom ENS</div>
</div>
<div class="admonitionblock warning data-line-630">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph data-line-631">
<p>Comme mentionné dans <a href="#vickrey_auction">Enchères Vickrey</a>, vous devez révéler votre enchère dans les 48 heures suivant la fin de l&#39;enchère, sinon vous <em>perdez les fonds de votre enchère</em>. Avons-nous oublié de le faire et avons-nous perdu 0,01 ETH nous-mêmes ? Vous pariez que nous l&#39;avons fait.</p>
</div>
<div class="paragraph data-line-633">
<p>Prenez une capture d&#39;écran, enregistrez votre phrase secrète (comme sauvegarde pour votre enchère) et ajoutez un rappel dans votre calendrier pour la date et l&#39;heure de révélation, afin de ne pas oublier et de ne pas perdre vos fonds.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-636">
<p>Enfin, nous confirmons la transaction en cliquant sur le gros bouton vert de soumission affiché dans <a href="#ens-metamask-bid">[ens-metamask-bid]</a>.</p>
</div>
<div id="ens-metamask-enchère" class="imageblock data-line-640">
<div class="content">
<img src="images/ens-metamask-bid.png" alt="&quot;Transaction MetaMask contenant votre enchère&quot;">
</div>
<div class="title">Figure 9. Transaction MetaMask contenant votre enchère</div>
</div>
<div class="paragraph data-line-642">
<p>Si tout se passe bien, après avoir soumis une transaction de cette manière, vous pouvez revenir et révéler l&#39;offre dans les 48 heures, et le nom que vous avez demandé sera enregistré sur votre adresse Ethereum.</p>
</div>
</div>
<div class="sect3 data-line-644">
<h4 id="_gérer_votre_nom_ens">Gérer votre nom ENS</h4>
<div class="paragraph data-line-646">
<p> Une fois que vous avez enregistré un nom ENS, vous pouvez le gérer à l&#39;aide d&#39;une autre interface conviviale : <a href="https://manager.ens.domains/" data-href="https://manager.ens.domains/">ENS Manager</a>.</p>
</div>
<div class="paragraph data-line-649">
<p>Une fois là-bas, saisissez le nom que vous souhaitez gérer dans la zone de recherche (voir <a href="#ens-manager">L&#39;interface web ENS Manager</a>). Vous devez avoir votre portefeuille Ethereum (par exemple, MetaMask) déverrouillé, afin que le DApp ENS Manager puisse gérer l&#8217;enregistrement en votre nom.</p>
</div>
<div id="ens-manager" class="imageblock data-line-653">
<div class="content">
<img src="images/ens-manager.png" alt="&quot;L&#39;interface web de l&#39;ENS Manager&quot;">
</div>
<div class="title">Figure 10. L&#39;interface web ENS Manager</div>
</div>
<div class="paragraph data-line-655">
<p>À partir de cette interface, nous pouvons créer des sous-domaines, définir un contrat de résolution (nous en reparlerons plus tard) et connecter chaque nom à la ressource appropriée, telle que l&#39;adresse Swarm d&#39;une interface DApp.</p>
</div>
<div class="sect4 data-line-657">
<h5 id="_création_dun_sous_domaine_ens">Création d&#39;un sous-domaine ENS</h5>
<div class="paragraph data-line-659">
<p>Commençons par créer un sous-domaine pour notre exemple de DApp d&#8217;enchères (voir <a href="#ens-manager-add-subdomain">[ens-manager-add-subdomain]</a>). Nous nommerons le sous-domaine auction, donc le nom complet sera auction.ethereumbook.eth.</p>
</div>
<div id="ens-manager-ajouter-sous-domaine" class="imageblock data-line-663">
<div class="content">
<img src="images/ens_manager_add_subdomain.png" alt="&quot;Ajout du sous-domaine auction.ethereumbook.eth&quot;">
</div>
<div class="title">Figure 11. Ajout du sous-domaine auction.ethereumbook.eth</div>
</div>
<div class="paragraph data-line-665">
<p>Une fois que nous avons créé le sous-domaine, nous pouvons saisir auction.ethereumbook.eth dans la zone de recherche et le gérer, tout comme nous avons géré le domaine ethereumbook.eth <span class="keep-together">précédemment</span>.</p>
</div>
</div>
</div>
<div class="sect3 pagebreak-before data-line-668">
<h4 id="_résolveurs_ens">Résolveurs ENS</h4>
<div class="paragraph data-line-670">
<p>Dans ENS, la résolution d&#39;un nom est un processus en deux étapes :</p>
</div>
<div class="olist arabic data-line-672">
<ol class="arabic">
<li class="data-line-672">
<p>Le registre ENS est appelé avec le nom à résoudre après l&#39;avoir haché.
Si l&#39;enregistrement existe, le registre renvoie l&#39;adresse de son résolveur.</p>
</li>
<li class="data-line-675">
<p>Le résolveur est appelé, en utilisant la méthode appropriée à la ressource demandée. Le résolveur renvoie le résultat souhaité.</p>
</li>
</ol>
</div>
<div class="paragraph data-line-677">
<p>Ce processus en deux étapes présente plusieurs avantages. Séparer la fonctionnalité des résolveurs du système de nommage lui-même nous donne beaucoup plus de flexibilité. Les propriétaires de noms peuvent utiliser des résolveurs personnalisés pour résoudre n&#39;importe quel type ou ressource, étendant ainsi les fonctionnalités d&#39;ENS. Par exemple, si à l&#39;avenir vous vouliez lier une ressource de géolocalisation (longitude/lattitude) à un nom ENS, vous pourriez créer un nouveau résolveur qui répond à une requête de <span class="keep-together"><code>géolocalisation</code></span>. Qui sait quelles applications pourraient être utiles à l&#39;avenir ? Avec les résolveurs personnalisés, la seule limite est votre imagination.</p>
</div>
<div class="paragraph data-line-679">
<p>Pour plus de commodité, il existe un résolveur public par défaut qui peut résoudre une variété de ressources, y compris l&#39;adresse (pour les portefeuilles ou les contrats) et le contenu (un hachage Swarm pour les DApps ou le code source du contrat).</p>
</div>
<div class="paragraph data-line-681">
<p>Puisque nous voulons lier notre DApp d&#8217;enchères à un hachage Swarm, nous pouvons utiliser le résolveur public, qui prend en charge la résolution de contenu, comme indiqué dans <a href="#ens-manager-set-default-resolver">Définition du résolveur public par défaut pour auction.ethereumbook.eth</a> ; nous n&#39;avons pas besoin de coder ou de déployer un résolveur personnalisé.</p>
</div>
<div id="ens-manager-set-default-resolver" class="imageblock data-line-685">
<div class="content">
<img src="images/ens-manager-set-default-resolver.png" alt="&quot;Définir le résolveur public par défaut pour auction.ethereumbook.eth&quot;">
</div>
<div class="title">Figure 12. Définition du résolveur public par défaut pour auction.ethereumbook.eth</div>
</div>
</div>
<div class="sect3 data-line-687">
<h4 id="_résolution_dun_nom_en_un_hachage_swarm_contenu">Résolution d&#39;un nom en un hachage Swarm (contenu)</h4>
<div class="paragraph data-line-689">
<p>Une fois que le résolveur pour auction.ethereumbook.eth est défini pour être le résolveur public, nous pouvons le configurer pour qu&#39;il renvoie le hachage Swarm comme contenu de notre nom (voir <a href="#ens-set-content">Définition du &#39;contenu&#39; à retourner pour auction.ethereumbook.eth</a>).</p>
</div>
<div id="ens-set-content" class="imageblock data-line-693">
<div class="content">
<img src="images/ens-manager-set-content.png" alt="&quot;Définir le retour &#39;contenu&#39; pour auction.ethereumbook.eth&quot;">
</div>
<div class="title">Figure 13. Définition du &#39;contenu&#39; à retourner pour auction.ethereumbook.eth</div>
</div>
<div class="paragraph data-line-695">
<p>Après avoir attendu un peu de temps pour que notre transaction soit confirmée, nous devrions être en mesure de résoudre correctement le nom. Avant de définir un nom, notre DApp d&#8217;enchères pouvait être trouvée sur une passerelle Swarm par son hachage :</p>
</div>
<ul class="simplelist">
<li><em>https://swarm-gateways.net/bzz:/ab164cf37dc10647e43a233486cdeffa8334b026e32a480dd9cbd020c12d4581</em></li>
</ul>
<div class="paragraph data-line-703">
<p>ou en recherchant dans un navigateur DApp ou une passerelle Swarm pour l&#39;URL Swarm :</p>
</div>
<ul class="simplelist">
<li><em>bzz://ab164cf37dc10647e43a233486cdeffa8334b026e32a480dd9cbd020c12d4581</em></li>
</ul>
<div class="paragraph pagebreak-before data-line-712">
<p>Maintenant que nous l&#39;avons attaché à un nom, c&#39;est beaucoup plus simple :</p>
</div>
<ul class="simplelist">
<li><em>http://swarm-gateways.net/bzz:/auction.ethereumbook.eth/</em></li>
</ul>
<div class="paragraph data-line-720">
<p>Nous pouvons également le trouver en recherchant &quot;auction.ethereumbook.eth&quot; dans n&#39;importe quel portefeuille compatible ENS ou navigateur DApp (par exemple, Mist).</p>
</div>
</div>
</div>
<div class="sect2 data-line-722">
<h3 id="_de_lapplication_à_la_dapp">De l&#39;application à la DApp</h3>
<div class="paragraph data-line-724">
<p>Au cours des dernières sections, nous avons progressivement construit une application décentralisée. Nous avons commencé avec une paire de contrats intelligents pour organiser une vente aux enchères d&#39;actes ERC721. Ces contrats ont été conçus pour ne pas avoir de compte gouvernant ou privilégié, de sorte que leur fonctionnement est véritablement décentralisé. Nous avons ajouté une interface, implémentée en JavaScript, qui offre une interface pratique et conviviale à notre DApp. La DApp d&#39;enchères utilise le système de stockage décentralisé Swarm pour stocker les ressources d&#39;application telles que les images. La DApp utilise également le protocole de communication décentralisé Whisper pour offrir une salle de chat cryptée pour chaque enchère, sans aucun serveur central.</p>
</div>
<div class="paragraph data-line-726">
<p>Nous avons téléchargé l&#39;intégralité de l&#39;interface sur Swarm, afin que notre DApp ne s&#39;appuie sur aucun serveur Web pour servir les fichiers. Enfin, nous avons attribué un nom à notre DApp en utilisant ENS, en le connectant au hachage Swarm de l&#39;interface, afin que les utilisateurs puissent y accéder avec un nom simple et facile à retenir, lisible par l&#39;homme.</p>
</div>
<div class="paragraph data-line-728">
<p>A chacune de ces étapes, nous avons augmenté la décentralisation de notre application. Le résultat final est une DApp qui n&#39;a pas de point central d&#39;autorité, pas de point central de défaillance, et exprime la vision &quot;web3&quot;.</p>
</div>
<div class="paragraph data-line-730">
<p><a href="#auction_dapp_final_architecture">Architecture DApp d&#39;enchères</a> montre l&#39;architecture complète de la DApp d&#8217;enchères.</p>
</div>
<div id="auction_dapp_final_architecture" class="imageblock data-line-734">
<div class="content">
<img src="images/auction_dapp_final_architecture.png" alt="&quot;Architecture DApp d&#39;enchères&quot;">
</div>
<div class="title">Figure 14. Architecture DApp d&#39;enchères</div>
</div>
</div>
<div class="sect2 data-line-736">
<h3 id="_conclusion">Conclusion</h3>
<div class="paragraph data-line-738">
<p>Les applications décentralisées sont l&#39;aboutissement de la vision d&#39;Ethereum, telle qu&#39;exprimée par les fondateurs dès les premières conceptions. Alors que de nombreuses applications s&#39;appellent aujourd&#39;hui &quot;DApps&quot;, la plupart ne sont pas entièrement décentralisées. Cependant, il est déjà possible de construire des applications presque totalement décentralisées. Au fil du temps, à mesure que la technologie mûrit, de plus en plus de nos applications peuvent être décentralisées, ce qui se traduit par un Web plus résilient, résistant à la censure et libre.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-05-12 13:44:07 -0400
</div>
</div>
</body>
</html>